/*
Copyright DHTMLX LTD. http://www.dhtmlx.com
To use this component please contact sales@dhtmlx.com to obtain license
*/dhtmlx=function(a){for(var b in a)dhtmlx[b]=a[b];return dhtmlx};dhtmlx.extend_api=function(a,b,c){var d=window[a];if(d)window[a]=function(a){if(a&&typeof a=="object"&&!a.tagName){var c=d.apply(this,b._init?b._init(a):arguments),h;for(h in dhtmlx)if(b[h])this[b[h]](dhtmlx[h]);for(h in a)if(b[h])this[b[h]](a[h]);else h.indexOf("on")==0&&this.attachEvent(h,a[h])}else c=d.apply(this,arguments);b._patch&&b._patch(this);return c||this},window[a].prototype=d.prototype,c&&dhtmlXHeir(window[a].prototype,c)};
dhtmlxAjax={get:function(a,b){var c=new dtmlXMLLoaderObject(!0);c.async=arguments.length<3;c.waitCall=b;c.loadXML(a);return c},post:function(a,b,c){var d=new dtmlXMLLoaderObject(!0);d.async=arguments.length<4;d.waitCall=c;d.loadXML(a,!0,b);return d},getSync:function(a){return this.get(a,null,!0)},postSync:function(a,b){return this.post(a,b,null,!0)}};
function dtmlXMLLoaderObject(a,b,c,d){this.xmlDoc="";this.async=typeof c!="undefined"?c:!0;this.onloadAction=a||null;this.mainObject=b||null;this.waitCall=null;this.rSeed=d||!1;return this}
dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var b=!0;return this.check=function(){if(a&&a.onloadAction!=null&&(!a.xmlDoc.readyState||a.xmlDoc.readyState==4)&&b){b=!1;if(typeof a.onloadAction=="function")a.onloadAction(a.mainObject,null,null,null,a);if(a.waitCall)a.waitCall.call(this,a),a.waitCall=null}}};
dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,b){if(this.xmlDoc.responseXML){var c=this.xmlDoc.responseXML.getElementsByTagName(a);c.length==0&&a.indexOf(":")!=-1&&(c=this.xmlDoc.responseXML.getElementsByTagName(a.split(":")[1]));var d=c[0]}else d=this.xmlDoc.documentElement;if(d)return this._retry=!1,d;if(_isIE&&!this._retry){var e=this.xmlDoc.responseText,b=this.xmlDoc;this._retry=!0;this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=!1;this.xmlDoc.loadXML(e);return this.getXMLTopNode(a,
b)}dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]);return document.createElement("DIV")};
dtmlXMLLoaderObject.prototype.loadXMLString=function(a){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(a);else{var b=new DOMParser;this.xmlDoc=b.parseFromString(a,"text/xml")}if(this.onloadAction)this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall)this.waitCall(),this.waitCall=null};
dtmlXMLLoaderObject.prototype.loadXML=function(a,b,c,d){this.rSeed&&(a+=(a.indexOf("?")!=-1?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf());this.filePath=a;this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(this.async)this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this);this.xmlDoc.open(b?"POST":"GET",a,this.async);d?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type",
"text/xml")):b&&this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(c);this.async||(new this.waitLoadFunction(this))()};
dtmlXMLLoaderObject.prototype.destructor=function(){return this.setXSLParamValue=this.getXMLTopNode=this.xmlNodeToJSON=this.doSerialization=this.loadXMLString=this.loadXML=this.doXSLTransToString=this.doXSLTransToObject=this.doXPathOpera=this.doXPath=this.xmlDoc=this.mainObject=this.onloadAction=this.filePath=this.rSeed=this.async=this._retry=this._getAllNamedChilds=this._filterXPath=null};
dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){for(var b={},c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;b._tagvalue=a.firstChild?a.firstChild.nodeValue:"";for(c=0;c<a.childNodes.length;c++){var d=a.childNodes[c].tagName;d&&(b[d]||(b[d]=[]),b[d].push(this.xmlNodeToJSON(a.childNodes[c])))}return b};function callerFunction(a,b){return this.handler=function(c){if(!c)c=window.event;a(c,b);return!0}}function getAbsoluteLeft(a){return getOffset(a).left}
function getAbsoluteTop(a){return getOffset(a).top}function getOffsetSum(a){for(var b=0,c=0;a;)b+=parseInt(a.offsetTop),c+=parseInt(a.offsetLeft),a=a.offsetParent;return{top:b,left:c}}
function getOffsetRect(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,h=d.clientTop||c.clientTop||0,j=d.clientLeft||c.clientLeft||0,g=b.top+e-h,i=b.left+f-j;return{top:Math.round(g),left:Math.round(i)}}function getOffset(a){return a.getBoundingClientRect?getOffsetRect(a):getOffsetSum(a)}
function convertStringToBoolean(a){typeof a=="string"&&(a=a.toLowerCase());switch(a){case "1":case "true":case "yes":case "y":case 1:case !0:return!0;default:return!1}}function getUrlSymbol(a){return a.indexOf("?")!=-1?"&":"?"}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop)return window.dhtmlDragAndDrop;this.dragStartObject=this.dragStartNode=this.dragNode=this.lastLanding=0;this.tempDOMM=this.tempDOMU=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this}
dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null;a.dragStarter=null;a.dragLanding=null};dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,b){a.onmousedown=this.preCreateDragCopy;a.dragStarter=b;this.addDragLanding(a,b)};dhtmlDragAndDropObject.prototype.addDragLanding=function(a,b){a.dragLanding=b};
dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(a){if(!((a||window.event)&&(a||event).button==2)){if(window.dhtmlDragAndDrop.waitDrag)return window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1;window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(a);window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=
document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=(new Date).valueOf();a&&a.preventDefault&&a.preventDefault();return!1}};
dhtmlDragAndDropObject.prototype.callDrag=function(a){if(!a)a=window.event;dragger=window.dhtmlDragAndDrop;if(!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode)if(dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,a);if(!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=
0;dragger.dragNode.pWindow=window;dragger.initFrameRoute()}else return dragger.stopDrag(a,!0);if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var b=dragger.gldragNode;if(dragger.gldragNode.old)b=dragger.gldragNode.old;b.parentNode.removeChild(b);var c=dragger.dragNode.pWindow;b.pWindow&&b.pWindow.dhtmlDragAndDrop.lastLanding&&b.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(b.pWindow.dhtmlDragAndDrop.lastLanding);if(_isIE){var d=document.createElement("Div");d.innerHTML=
dragger.dragNode.outerHTML;dragger.dragNode=d.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);c.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=a.clientX+15+(dragger.fx?dragger.fx*-1:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=a.clientY+3+(dragger.fy?dragger.fy*-1:0)+(document.body.scrollTop||
document.documentElement.scrollTop)+"px";var e=a.srcElement?a.srcElement:a.target;dragger.checkLanding(e,a)}};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(a){if(window.name){for(var b=parent.frames[window.name].frameElement.offsetParent,c=0,d=0;b;)c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;if(parent.dhtmlDragAndDrop){var e=parent.dhtmlDragAndDrop.calculateFramePosition(1);c+=e.split("_")[0]*1;d+=e.split("_")[1]*1}if(a)return c+"_"+d;else this.fx=c;this.fy=d}return"0_0"};
dhtmlDragAndDropObject.prototype.checkLanding=function(a,b){a&&a.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=a,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,b.clientX,b.clientY,b),this.lastLanding_scr=_isIE?b.srcElement:b.target):a&&a.tagName!="BODY"?this.checkLanding(a.parentNode,b):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,b.clientX,b.clientY,b),this.lastLanding=
0,this._onNotFound&&this._onNotFound())};
dhtmlDragAndDropObject.prototype.stopDrag=function(a,b){dragger=window.dhtmlDragAndDrop;if(!b){dragger.stopFrameRoute();var c=dragger.lastLanding;dragger.lastLanding=null;c&&c.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,c,_isIE?event.srcElement:a.target)}dragger.lastLanding=null;dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=
0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){a&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var b=0;b<window.frames.length;b++)try{window.frames[b]!=a&&window.frames[b].dhtmlDragAndDrop&&window.frames[b].dhtmlDragAndDrop.stopFrameRoute(window)}catch(c){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(d){}};
dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,b){if(a)window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&b&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition();
try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(c){}for(var d=0;d<window.frames.length;d++)try{window.frames[d]!=a&&window.frames[d].dhtmlDragAndDrop&&window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,!a||b?1:0)}catch(e){}};_OperaRv=_KHTMLrv=_FFrv=_isChrome=_isMacOS=_isKHTML=_isOpera=_isIE=_isFF=!1;navigator.userAgent.indexOf("Macintosh")!=-1&&(_isMacOS=!0);navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0);
navigator.userAgent.indexOf("Safari")!=-1||navigator.userAgent.indexOf("Konqueror")!=-1?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):navigator.userAgent.indexOf("Opera")!=-1?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):navigator.appName.indexOf("Microsoft")!=-1?(_isIE=!0,navigator.appVersion.indexOf("MSIE 8.0")!=-1&&document.compatMode!="BackCompat"&&
(_isIE=8),navigator.appVersion.indexOf("MSIE 9.0")!=-1&&document.compatMode!="BackCompat"&&(_isIE=8)):(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1]));
dtmlXMLLoaderObject.prototype.doXPath=function(a,b,c,d){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(a,b);if(_isIE)return b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),b||dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]),c!=null&&b.setProperty("SelectionNamespaces","xmlns:xsl='"+c+"'"),d=="single"?b.selectSingleNode(a):b.selectNodes(a)||[];else{var e=b;b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML);b||dhtmlxError.throwError("LoadXML",
"Incorrect XML",[b||this.xmlDoc,this.mainObject]);b.nodeName.indexOf("document")!=-1?e=b:(e=b,b=b.ownerDocument);var f=XPathResult.ANY_TYPE;if(d=="single")f=XPathResult.FIRST_ORDERED_NODE_TYPE;var h=[],j=b.evaluate(a,e,function(){return c},f,null);if(f==XPathResult.FIRST_ORDERED_NODE_TYPE)return j.singleNodeValue;for(var g=j.iterateNext();g;)h[h.length]=g,g=j.iterateNext();return h}};function q(){if(!this.catches)this.catches=[];return this}q.prototype.catchError=function(a,b){this.catches[a]=b};
q.prototype.throwError=function(a,b,c){if(this.catches[a])return this.catches[a](a,b,c);if(this.catches.ALL)return this.catches.ALL(a,b,c);alert("Error type: "+a+"\nDescription: "+b);return null};window.dhtmlxError=new q;
dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,b){var c=a.replace(/[\/]+/gi,"/").split("/"),d=null,e=1;if(!c.length)return[];if(c[0]==".")d=[b];else if(c[0]=="")d=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(c[e].replace(/\[[^\]]*\]/g,"")),e++;else return[];for(;e<c.length;e++)d=this._getAllNamedChilds(d,c[e]);c[e-1].indexOf("[")!=-1&&(d=this._filterXPath(d,c[e-1]));return d};
dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){for(var c=[],b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),d=0;d<a.length;d++)a[d].getAttribute(b)&&(c[c.length]=a[d]);return c};
dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=[];_isKHTML&&(b=b.toUpperCase());for(var d=0;d<a.length;d++)for(var e=0;e<a[d].childNodes.length;e++)_isKHTML?a[d].childNodes[e].tagName&&a[d].childNodes[e].tagName.toUpperCase()==b&&(c[c.length]=a[d].childNodes[e]):a[d].childNodes[e].tagName==b&&(c[c.length]=a[d].childNodes[e]);return c};function dhtmlXHeir(a,b){for(var c in b)typeof b[c]=="function"&&(a[c]=b[c]);return a}
function dhtmlxEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,b,c){if(!c)c=this.xslDoc;if(c.responseXML)c=c.responseXML;var d=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",c,"http://www.w3.org/1999/XSL/Transform","single");if(d!=null)d.firstChild.nodeValue=b};
dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,b){if(!a)a=this.xslDoc;if(a.responseXML)a=a.responseXML;if(!b)b=this.xmlDoc;if(b.responseXML)b=b.responseXML;if(_isIE){d=new ActiveXObject("Msxml2.DOMDocument.3.0");try{b.transformNodeToObject(a,d)}catch(c){d=b.transformNode(a)}}else{if(!this.XSLProcessor)this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(a);var d=this.XSLProcessor.transformToDocument(b)}return d};
dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,b){var c=this.doXSLTransToObject(a,b);return typeof c=="string"?c:this.doSerialization(c)};dtmlXMLLoaderObject.prototype.doSerialization=function(a){if(!a)a=this.xmlDoc;if(a.responseXML)a=a.responseXML;if(_isIE)return a.xml;else{var b=new XMLSerializer;return b.serializeToString(a)}};
dhtmlxEventable=function(a){a.attachEvent=function(a,c,d){a="ev_"+a.toLowerCase();this[a]||(this[a]=new this.eventCatcher(d||this));return a+":"+this[a].addEvent(c)};a.callEvent=function(a,c){a="ev_"+a.toLowerCase();return this[a]?this[a].apply(this,c):!0};a.checkEvent=function(a){return!!this["ev_"+a.toLowerCase()]};a.eventCatcher=function(a){var c=[],d=function(){for(var e=!0,d=0;d<c.length;d++)if(c[d]!=null)var h=c[d].apply(a,arguments),e=e&&h;return e};d.addEvent=function(a){typeof a!="function"&&
(a=eval(a));return a?c.push(a)-1:!1};d.removeEvent=function(a){c[a]=null};return d};a.detachEvent=function(a){if(a!=!1){var c=a.split(":");this[c[0]].removeEvent(c[1])}};a.detachAllEvents=function(){for(var a in this)a.indexOf("ev_")==0&&delete this[a]}};
(function(){var a=dhtmlx.message=function(b,c,d,e){if(!a.area)a.area=document.createElement("DIV"),a.area.style.cssText="position:absolute;right:5px;width:250px;z-index:100;",a.area.className="dhtmlx_message_area",a.area.style[a.defPosition]="5px",document.body.appendChild(a.area);typeof b!="object"&&(b={text:b,type:c,lifetime:d,id:e});b.type=b.type||"info";b.id=b.id||a.uid();b.lifetime=b.lifetime||a.defTimeout;a.hide(b.id);var f=document.createElement("DIV");f.style.cssText="border-radius:4px; padding:4px 4px 4px 20px;background-color:#FFFFCC;font-size:12px;font-family:Tahoma;color:navy;z-index: 10000;margin:5px;border:1px solid lightgrey;";
f.innerHTML=b.text;f.className=b.type;a.defPosition=="bottom"&&a.area.firstChild?a.area.insertBefore(f,a.area.firstChild):a.area.appendChild(f);a.timers[b.id]=window.setTimeout(function(){a.hide(b.id)},b.lifetime);a.pull[b.id]=f;return b.id};a.defTimeout=4E3;a.defPosition="top";a.pull={};a.timers={};a.seed=(new Date).valueOf();a.uid=function(){return a.seed++};a.hideAll=function(){for(var b in a.pull)a.hide(b)};a.hide=function(b){var c=a.pull[b];c&&c.parentNode&&(c.parentNode.removeChild(c),window.clearTimeout(a.timers[b]),
delete a.pull[b])}})();
function dhtmlXForm(a,b){this.i={position:"label-left",labelWidth:"auto",labelHeight:"auto",inputWidth:"auto",inputHeight:"auto",labelAlign:"left"};this.apos_css={"label-left":"item_label_left","label-right":"item_label_right","label-top":"item_label_top",absolute:"item_absolute"};this.align_css={left:"align_left",center:"align_center",right:"align_right"};var c=this;this.skin="dhx_skyblue";this.setSkin=function(a){this.skin=a;this.cont.className="dhxlist_obj_"+this.skin;this.cont.style.fontSize=this.skin==
"dhx_web"?"13px":"13px"};this._type="checkbox";this._rGroup="default";this.cont=typeof a=="object"?a:document.getElementById(a);if(!a._isNestedForm)this._parentForm=!0,this.cont.style.fontSize=this.skin=="dhx_web"?"13px":"13px",this.cont.className="dhxlist_obj_"+this.skin,this.setFontSize=function(a){this.cont.style.fontSize=a},this.getForm=function(){return this};this.b=null;this.base=[];this._prepare=function(a){this.b==null?this.b=0:this.b++;this.base[this.b]=document.createElement("DIV");this.base[this.b].className=
"dhxlist_base";typeof a=="string"&&(a=parseInt(a));if(typeof a=="number")this.base[this.b].style.marginLeft=a+"px";this.cont.appendChild(this.base[this.b])};this.setSizes=function(){};this._mergeSettings=function(a){var b=-1,c={type:"settings"},d;for(d in this.i)c[d]=this.i[d];for(var g=0;g<a.length;g++)if(a[g].type=="settings"){for(d in a[g])c[d]=a[g][d];b=g}a[b>=0?b:a.length]=c;return a};this._genStr=function(a){for(var b="",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",d=0;d<
a;d++)b+=c.charAt(Math.round(Math.random()*(c.length-1)));return b};this.idPrefix="dhxForm_"+this._genStr(12)+"_";this.objPull={};this.itemPull={};this._ic=0;this._addItem=function(a,b,d,j,g){if(!a)a=this._type;if(a=="list"&&{fieldset:!0,block:!0}[this.getItemType(g)]==!0)var i=this.itemPull[this.idPrefix+g]._addSubListNode();else a=="newcolumn"?i={}:(i=document.createElement("DIV"),this.base[this.b].appendChild(i));i._idd=b;if(typeof d.offsetLeft=="number")i.style.paddingLeft=d.offsetLeft+"px";if(typeof d.offsetTop==
"number")i.style.paddingTop=d.offsetTop+"px";if(a=="list"){if(j!=null)i._sId=j;var k=this.items[a].render(i);if(!this.itemPull[this.idPrefix+b]._listObj)this.itemPull[this.idPrefix+b]._listObj=[];if(!this.itemPull[this.idPrefix+b]._list)this.itemPull[this.idPrefix+b]._list=[];if(!this.itemPull[this.idPrefix+b]._listBase)this.itemPull[this.idPrefix+b]._listBase=[];this.itemPull[this.idPrefix+b]._listObj.push(k[0]);this.itemPull[this.idPrefix+b]._list.push(k[1]);this.itemPull[this.idPrefix+b]._listBase.push(i);
k[1].checkEvent=function(a){return c.checkEvent(a)};k[1].callEvent=function(a,b){return c.callEvent(a,b)};k[1].getForm=function(){return c.getForm()};k[1]._initObj(this._mergeSettings(d));i._inBlcok&&(i.className+=" in_block");return k[1]}if(a=="newcolumn")this._prepare(d.offset);else{if({input:!0,fieldset:!0,block:!0}[a]!==!0)i.onselectstart=function(a){a=a||event;return a.returnValue=!1};if(a=="label"&&this._ic++==0)d._isTopmost=!0;d.position=this.apos_css[!d.position||!this.apos_css[d.position]?
this.i.position:d.position];i.className=d.position+(typeof d.className=="string"?" "+d.className:"");if(!d.labelWidth)d.labelWidth=this.i.labelWidth;if(!d.labelHeight)d.labelHeight=this.i.labelHeight;d.labelAlign=this.align_css[d.labelAlign]?this.align_css[d.labelAlign]:this.align_css[this.i.labelAlign];d.inputWidth=d.width?d.width:d.inputWidth?d.inputWidth:this.i.inputWidth;if(!d.inputHeight)d.inputHeight=this.i.inputHeight;i.checkEvent=function(a){return c.checkEvent(a)};i.callEvent=function(a,
b){return c.callEvent(a,b)};i.getForm=function(){return c.getForm()};i._autoCheck=function(){c._autoCheck()};if(d.validate)i._validate=String(d.validate).split(",");this.objPull[this.idPrefix+b]=this.items[a].render(i,d);this.itemPull[this.idPrefix+b]=i}};this._initObj=function(a){this._prepare();for(var b=0;b<a.length;b++)if(a[b].type=="settings")for(var c in a[b])this.i[c]=a[b][c];for(b=0;b<a.length;b++){var d=a[b].type||"";if(this.items[d]){if(!a[b].name)a[b].name=this._genStr(12);var g=a[b].name;
if(this.objPull[this.idPrefix+g]!=null||d=="radio")g=this._genStr(12);var i=a[b];i.label=i.label||"";i.value=i.value;i.checked=!!i.checked;i.disabled=!!i.disabled;i.name=i.name||this._genStr(12);i.options=i.options||[];i.rows=i.rows||"none";i.uid=this._genStr(12);this._addItem(d,g,i);this._parentEnabled===!1&&this._disableItem(g);for(var k=0;k<i.options.length;k++)if(i.options[k].list!=null){if(!i.options[k].value)i.options[k].value=this._genStr();var l=this._addItem("list",g,i.options[k].list,i.options[k].value);
l._subSelect=!0;l._subSelectId=i.options[k].value}if(a[b].list!=null){if(!a[b].listParent)a[b].listParent=i.name;l=this._addItem("list",g,a[b].list,null,a[b].listParent)}}}this._autoCheck()};this._xmlSubItems={item:"list",option:"options"};this._xmlToObject=function(a,b){if(b===!0)var c=[];else{var c={},d;for(d in this._xmlSubItems)c[this._xmlSubItems[d]]=[]}for(var g=0;g<a.childNodes.length;g++)if(typeof a.childNodes[g].nodeName!="undefiend"&&this._xmlSubItems[a.childNodes[g].nodeName]!=null){for(var i=
this._xmlSubItems[a.childNodes[g].nodeName],k={},l=0;l<a.childNodes[g].attributes.length;l++){k[a.childNodes[g].attributes[l].name]=a.childNodes[g].attributes[l].value;var n=this._xmlToObject(a.childNodes[g],!1);for(d in this._xmlSubItems)n[this._xmlSubItems[d]].length>0&&(k[this._xmlSubItems[d]]=n[this._xmlSubItems[d]])}b===!0?c.push(k):c[i].push(k)}return c};this._xmlParser=function(){c._initObj(c._xmlToObject(this.getXMLTopNode("items"),!0));c.cont&&c.cont.cmp&&c.cont.cmp=="form"&&c.setSizes();
c.callEvent("onXLE",[]);typeof c._doOnLoad=="function"&&c._doOnLoad()};this._doOnLoad=null;this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window);this.loadStruct=function(a,b,c){if(typeof b=="string"){if(b.toLowerCase()=="json"){this._initObj(a);return}this._doOnLoad=c||null}else this._doOnLoad=b||null;this.callEvent("onXLS",[]);this._xmlLoader.loadXML(a)};this.loadStructString=function(a,b){this._doOnLoad=b||null;this._xmlLoader.loadXMLString(a)};this._autoCheck=function(a){typeof a=="undefined"&&
(a=!0);for(var b in this.itemPull){var c=a&&this.itemPull[b]._udis!==!0;this[c?"_enableItem":"_disableItem"](this.itemPull[b]._idd);var d=c&&(typeof this.itemPull[b]._checked=="boolean"?this.itemPull[b]._checked:!0);if(this.itemPull[b]._list)for(var g=0;g<this.itemPull[b]._list.length;g++){var i=!0;if(this.itemPull[b]._list[g]._subSelect==!0){var i=!1,k=this.getItemValue(this.itemPull[b]._idd);typeof k=="object"&&typeof k.length=="number"||(k=[k]);for(var l=0;l<k.length;l++)i=k[l]==this.itemPull[b]._list[g]._subSelectId||
i;this.itemPull[b]._listObj[g][i?"show":"hide"](this.itemPull[b]._listBase[g])}this.itemPull[b]._list[g]._autoCheck(d&&i)}}};this.doWithItem=function(a,b,c,d,g,i){if(typeof a=="object"){var k=a[0],l=a[1],n=null,o=null,m;for(m in this.itemPull){if((this.itemPull[m]._value==l||l===null)&&this.itemPull[m]._group==k)return this.objPull[m][b](this.itemPull[m],c,d,g,i);if(this.itemPull[m]._list!=null&&!o)for(var p=0;p<this.itemPull[m]._list.length;p++)o=this.itemPull[m]._list[p].doWithItem(a,b,c,d,g)}if(o!=
null)return o;else if(b=="getType")return this.doWithItem(a[0],"getType")}else if(this.itemPull[this.idPrefix+a])return this.objPull[this.idPrefix+a][b](this.itemPull[this.idPrefix+a],c,d,g,i);else{o=null;for(m in this.itemPull)if(this.itemPull[m]._list&&!o)for(p=0;p<this.itemPull[m]._list.length;p++)o||(o=this.itemPull[m]._list[p].doWithItem(a,b,c,d,g,i));return o}};this.removeItem=function(a,b){b!=null?a=this.doWithItem([a,b],"destruct"):this.doWithItem(a,"destruct");this._clearItemData(a)};this._clearItemData=
function(a){if(this.itemPull[this.idPrefix+a]){a=this.idPrefix+a;try{this.objPull[a]=null,this.itemPull[a]=null,delete this.objPull[a],delete this.itemPull[a]}catch(b){}}else for(var c in this.itemPull)if(this.itemPull[c]._list)for(var d=0;d<this.itemPull[c]._list.length;d++)this.itemPull[c]._list[d]._clearItemData(a)};this.isItem=function(a,b){b!=null&&(a=[a,b]);return this.doWithItem(a,"isExist")};this.getItemType=function(a,b){a=[a,b||null];return this.doWithItem(a,"getType")};this.getItemsList=
function(){var a=[],b=[],c;for(c in this.itemPull){var d=null,d=this.itemPull[c]._group?this.itemPull[c]._group:c.replace(this.idPrefix,"");b[d]!=!0&&a.push(d);b[d]=!0}return a};this.forEachItem=function(a){for(var b in this.objPull)if(a(String(b).replace(this.idPrefix,"")),this.itemPull[b]._list)for(var c=0;c<this.itemPull[b]._list.length;c++)this.itemPull[b]._list[c].forEachItem(a)};this.setItemLabel=function(a,b,c){c!=null?a=[a,b]:c=b;this.doWithItem(a,"setText",c)};this.getItemLabel=function(a,
b){b!=null&&(a=[a,b]);return this.doWithItem(a,"getText")};this.setItemText=this.setItemLabel;this.getItemText=this.getItemLabel;this._enableItem=function(a){this.doWithItem(a,"enable")};this._disableItem=function(a){this.doWithItem(a,"disable")};this._isItemEnabled=function(a){return this.doWithItem(a,"isEnabled")};this.checkItem=function(a,b){b!=null&&(a=[a,b]);this.doWithItem(a,"check");this._autoCheck()};this.uncheckItem=function(a,b){b!=null&&(a=[a,b]);this.doWithItem(a,"unCheck");this._autoCheck()};
this.isItemChecked=function(a,b){b!=null&&(a=[a,b]);return this.doWithItem(a,"isChecked")};this.getCheckedValue=function(a){return this.doWithItem([a,null],"getChecked")};this._getRGroup=function(a,b){for(var c in this.itemPull){if(this.itemPull[c]._group==a&&(b==null||this.itemPull[c]._value==b))return this.itemPull[c]._idd;if(this.itemPull[c]._list!=null)for(var d=0;d<this.itemPull[c]._list.length;d++){var g=this.itemPull[c]._list[d]._getRGroup(a,b);if(g!=null)return g}}return null};this.setItemValue=
function(a,b){return this.getItemType(a)=="radio"?(this._getRGroup(a,b)!=null?this.checkItem(a,b):this.uncheckItem(a,this.getCheckedValue(a)),null):this.doWithItem(a,"setValue",b)};this.getItemValue=function(a,b){return this.getItemType(a)=="radio"?this.getCheckedValue(a):this.doWithItem(a,"getValue",b)};this.showItem=function(a,b){b!=null&&(a=[a,b]);this.doWithItem(a,"show")};this.hideItem=function(a,b){b!=null&&(a=[a,b]);this.doWithItem(a,"hide")};this.isItemHidden=function(a,b){b!=null&&(a=[a,
b]);return this.doWithItem(a,"isHidden")};this.getOptions=function(a){return this.doWithItem(a,"getOptions")};this.setItemWidth=function(a,b){this.doWithItem(a,"setWidth",b)};this.getItemWidth=function(a){return this.doWithItem(a,"getWidth")};this.setItemHeight=function(a,b){this.doWithItem(a,"setHeight",b)};this.setItemFocus=function(a){this.doWithItem(a,"setFocus")};this._getItemByName=function(a){for(var b in this.itemPull){if(this.itemPull[b]._idd==a)return this.itemPull[b];if(this.itemPull[b]._list!=
null)for(var c=0;c<this.itemPull[b]._list.length;c++){var d=this.itemPull[b]._list[c]._getItemByName(a);if(d!=null)return d}}return null};this._resetValidateCss=function(a){a.className=a.className.replace(a._vcss,"");a._vcss=null};this.setValidateCss=function(a,b,c){var d=this[this.getItemType(a)=="radio"?"_getRGroup":"_getItemByName"](a);if(d)d._vcss!=null&&this._resetValidateCss(d),d._vcss=typeof c=="string"?c:"validate_"+(b===!0?"ok":"error"),d.className+=" "+d._vcss};this.resetValidateCss=function(){for(var a in this.itemPull)if(this.itemPull[a]._vcss!=
null&&this._resetValidateCss(this.itemPull[a]),this.itemPull[a]._list!=null)for(var b=0;b<this.itemPull[a]._list.length;b++)this.itemPull[a]._list[b].resetValidateCss()};this.validate=function(a){if(!(a!="nestedFormCall"&&this.callEvent("onBeforeValidate",[])==!1)){var b=!0,c;for(c in this.itemPull){if(this.itemPull[c]._validate){for(var d=this.itemPull[c]._idd,g=this.getItemValue(d)||"",i=!0,k=0;k<this.itemPull[c]._validate.length;k++){var l=dhtmlxValidation["is"+this.itemPull[c]._validate[k]];typeof l!=
"function"&&typeof this.itemPull[c]._validate[k]=="function"&&(l=this.itemPull[c]._validate[k]);typeof l!="function"&&typeof window[this.itemPull[c]._validate[k]]=="function"&&(l=window[this.itemPull[c]._validate[k]]);i=i&&(typeof l=="function"?l(g):RegExp(this.itemPull[c]._validate[k]).test(g));l=null}b=b&&i;this.callEvent("onValidate"+(i?"Success":"Error"),[d,g,i])!==!1&&this.setValidateCss(d,i)}if(this.itemPull[c]._list)for(k=0;k<this.itemPull[c]._list.length;k++)b=this.itemPull[c]._list[k].validate("nestedFormCall")&&
b}a!="nestedFormCall"&&this.callEvent("onAfterValidate",[b]);return b}};this.setReadonly=function(a,b){this.doWithItem(a,"setReadonly",b)};this.isReadonly=function(a){return this.doWithItem(a,"isReadonly")};this.enableItem=function(a,b){b!=null&&(a=[a,b]);this.doWithItem(a,"userEnable");this._autoCheck()};this.disableItem=function(a,b){b!=null&&(a=[a,b]);this.doWithItem(a,"userDisable");this._autoCheck()};this.isItemEnabled=function(a,b){b!=null&&(a=[a,b]);return this.doWithItem(a,"isUserEnabled")};
this.clear=function(){var a={};this.formId=(new Date).valueOf();this.resetDataProcessor("inserted");for(var b in this.itemPull){var c=this.itemPull[b]._idd;this.itemPull[b]._type=="ch"&&this.uncheckItem(c);(this.itemPull[b]._type=="ta"||this.itemPull[b]._type=="editor"||this.itemPull[b]._type=="calendar")&&this.setItemValue(c,"");this.itemPull[b]._type=="combo"&&this.getCombo(c).selectOption(0);if(this.itemPull[b]._type=="se"){var d=this.getOptions(c);if(d.length>0)d[0].selected=!0}if(this.itemPull[b]._type==
"ra"){var g=this.itemPull[b]._group;a[g]||(this.checkItem(g,this.doWithItem(c,"_getFirstValue")),a[g]=!0)}if(this.itemPull[b]._list)for(var i=0;i<this.itemPull[b]._list.length;i++)this.itemPull[b]._list[i].clear()}a=null;this._parentForm&&this._autoCheck();this.resetValidateCss()};this.unload=function(){for(var a in this.objPull)this.removeItem(String(a).replace(this.idPrefix,""));this.detachAllEvents();this._xmlLoader.destructor();this._subSelectId=this._subSelect=this.idPrefix=this.skin=this.i=
this.b=this.align_css=this.apos_css=this.isReadonly=this.setReadonly=this.isLocked=this.unlock=this.lock=this.getItemsList=this.getFormData=this.setFormData=this.getEditor=this.getCombo=this.getColorPicker=this.getCalendar=this.setSizes=this.setRTL=this.getUserData=this.setUserData=this.getItemWidth=this.getCheckedValue=this.detachAllEvents=this._prepare=this._locked=this._mergeSettings=this._doLock=this._parentForm=this._parentEnabled=this._type=this._rGroup=this.setSkin=this.setItemWidth=this.setItemHeight=
this.setFontSize=this.remove=this.loadStructString=this.loadStruct=this._ulToObject=this._ic=this.getOptions=this.isItemChecked=this.uncheckItem=this.checkItem=this.isItemHidden=this.hideItem=this.showItem=this.getItemValue=this.setItemValue=this.getItemText=this.setItemText=this.getItemLabel=this.setItemLabel=this._getPosition=this._setPosition=this.getItemPosition=this.setItemPosition=this.eventCatcher=this.detachEvent=this.checkEvent=this.callEvent=this.attachEvent=this.getForm=this.unload=this.removeItem=
this.getItemType=this.doWithItem=this.clear=this.isItem=this.forEachItem=this._isItemEnabled=this._disableItem=this._enableItem=this._clearItemData=this._autoCheck=this._initObj=this._genStr=this._addItem=this.itemPull=this.objPull=this.items=this.loadXMLString=this.loadXML=this._xmlToObject=this._xmlParser=this._xmlLoader=null;for(var b=0;b<this.base.length;b++){for(;this.base[b].childNodes.length>0;)this.base[b].removeChild(this.base[b].childNodes[0]);this.base[b].parentNode&&this.base[b].parentNode.removeChild(this.base[b]);
this.base[b]=null}this.base=null;this.cont.className="";this.cont=null};for(var d in this.items){this.items[d].t=d;if(!this.items[d].show)this.items[d].show=function(a){a.style.display="";if(a._listObj)for(var b=0;b<a._listObj.length;b++)a._listObj[b].show(a._listBase[b])};if(!this.items[d].hide)this.items[d].hide=function(a){a.style.display="none";if(a._listObj)for(var b=0;b<a._listObj.length;b++)a._listObj[b].hide(a._listBase[b])};if(!this.items[d].isHidden)this.items[d].isHidden=function(a){return a.style.display==
"none"};if(!this.items[d].userEnable)this.items[d].userEnable=function(a){a._udis=!1};if(!this.items[d].userDisable)this.items[d].userDisable=function(a){a._udis=!0};if(!this.items[d].isUserEnabled)this.items[d].isUserEnabled=function(a){return a._udis!==!0};this.items[d].getType=function(){return this.t};this.items[d].isExist=function(){return!0}}this._locked=!1;this._doLock=function(a){var b=a===!0?!0:!1;if(this._locked!=b)this._locked=b,this._autoCheck(!this._locked)};this.lock=function(){this._doLock(!0)};
this.unlock=function(){this._doLock(!1)};this.isLocked=function(){return this._locked};dhtmlxEventable(this);this.attachEvent("_onButtonClick",function(a,b){this.callEvent("onButtonClick",[a,b])});b!=null&&typeof b=="object"&&this._initObj(b)}dhtmlXForm.prototype.getInput=function(a){return this.doWithItem(a,"getInput")};dhtmlXForm.prototype.getSelect=function(a){return this.doWithItem(a,"getSelect")};dhtmlXForm.prototype.items={};
dhtmlXForm.prototype.items.checkbox={render:function(a,b){a._type="ch";a._enabled=!0;a._checked=!1;a._value=String(b.value);a._ro=b.readonly==!0;var c=document.createElement("DIV");c.className="dhxlist_img chbx0";a.appendChild(c);if(!isNaN(b.inputLeft))c.style.left=parseInt(b.inputLeft)+"px";if(!isNaN(b.inputTop))c.style.top=parseInt(b.inputTop)+"px";this.doAddLabel(a,b);var d=document.createElement("INPUT");d.type="HIDDEN";d.value=String(b.value);a.appendChild(d);b.checked==!0&&this.check(a);b.hidden==
!0&&this.hide(a);b.disabled==!0&&this.userDisable(a);this.doAttachEvents(a);return this},destruct:function(a){this.doUnloadNestedLists(a);this.doDestruct(a)},doAddLabel:function(a,b){var c=document.createElement("DIV");c.className="dhxlist_txt "+b.labelAlign;a.appendChild(c);c.innerHTML="<span class='nav_link' onkeypress='e=event||window.arguments[0];if(e.keyCode==32||e.charCode==32){e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this,\"mousedown\");return false;}' "+(_dhxForm_isIPad?"ontouchstart='e=event;e.preventDefault();_dhxForm_doClick(this,\"mousedown\");' ":
"")+"role='link' tabindex='0'>"+b.label+"</span>";if(!isNaN(b.labelWidth))c.style.width=parseInt(b.labelWidth)+"px";if(!isNaN(b.labelHeight))c.style.height=parseInt(b.labelHeight)+"px";if(!isNaN(b.labelLeft))c.style.left=parseInt(b.labelLeft)+"px";if(!isNaN(b.labelTop))c.style.top=parseInt(b.labelTop)+"px"},doUnloadNestedLists:function(a){if(a._list){for(var b=0;b<a._list.length;b++)a._list[b].unload(),a._list[b]=null,a._listObj[b]=null,a._listBase[b].parentNode.removeChild(a._listBase[b]),a._listBase[b]=
null;a._list=null;a._listObj=null;a._listBase=null}},doDestruct:function(a){a.callEvent=null;a.checkEvent=null;a.getForm=null;a._autoCheck=null;a._checked=null;a._enabled=null;a._idd=null;a._type=null;a._value=null;a._group=null;a.onselectstart=null;a.childNodes[0].onmousedown=null;a.childNodes[0].ontouchstart=null;a.childNodes[1].onmousedown=null;a.childNodes[1].ontouchstart=null;a.childNodes[1].childNodes[0].onkeypress=null;a.childNodes[1].childNodes[0].ontouchstart=null;for(a.childNodes[1].removeChild(a.childNodes[1].childNodes[0]);a.childNodes.length>
0;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a);a=null},doAttachEvents:function(a){var b=this;a.childNodes[0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(a){a=a||event;a.preventDefault&&a.preventDefault();if(!this.parentNode._enabled||this.parentNode._ro)return a.cancelBubble=!0,a.returnValue=!1;b.doClick(this.parentNode)};a.childNodes[1].childNodes[0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(a){a=a||event;a.preventDefault&&a.preventDefault();if(!this.parentNode.parentNode._enabled)return a.cancelBubble=
!0,a.returnValue=!1;b.doClick(this.parentNode.parentNode)}},doClick:function(a){a.childNodes[1].childNodes[0].focus();a._enabled&&!a._ro&&!(a.checkEvent("onBeforeChange")&&a.callEvent("onBeforeChange",[a._idd,a._value,a._checked])!==!0)&&(this.setChecked(a,!a._checked),a._autoCheck(),a.callEvent("onChange",[a._idd,a._value,a._checked]))},doCheckValue:function(a){a._checked&&a._enabled?a.childNodes[2].setAttribute("name",String(a._idd)):a.childNodes[2].removeAttribute("name")},setChecked:function(a,
b){a._checked=b===!0?!0:!1;a.childNodes[0].className="dhxlist_img "+(a._checked?"chbx1":"chbx0");this.doCheckValue(a)},check:function(a){this.setChecked(a,!0)},unCheck:function(a){this.setChecked(a,!1)},isChecked:function(a){return a._checked},enable:function(a){if(String(a.className).search("disabled")>=0)a.className=String(a.className).replace(/disabled/gi,"");a._enabled=!0;a.childNodes[1].childNodes[0].tabIndex=0;a.childNodes[1].childNodes[0].removeAttribute("disabled");this.doCheckValue(a)},disable:function(a){String(a.className).search("disabled")<
0&&(a.className+=" disabled");a._enabled=!1;a.childNodes[1].childNodes[0].tabIndex=-1;a.childNodes[1].childNodes[0].setAttribute("disabled","true");this.doCheckValue(a)},isEnabled:function(a){return a._enabled},setText:function(a,b){a.childNodes[1].childNodes[0].innerHTML=b},getText:function(a){return a.childNodes[1].childNodes[0].innerHTML},setValue:function(a,b){this.setChecked(a,b===!0||a._value===b)},getValue:function(a){return a._value},setReadonly:function(a,b){a._ro=b===!0},isReadonly:function(a){return a._ro},
setValue:function(a,b){a._value=b;a.childNodes[2].value=a._value},getValue:function(a){return a._value}};
dhtmlXForm.prototype.items.radio={input:{},r:{},firstValue:{},render:function(a,b,c){a._type="ra";a._enabled=!0;a._checked=!1;a._group=b.name;a._value=b.value;a._uid=c;a._ro=b.readonly==!0;this.r[a._idd]=a;var d=document.createElement("DIV");d.className="dhxlist_img rdbt0";a.appendChild(d);if(!isNaN(b.inputLeft))d.style.left=parseInt(b.inputLeft)+"px";if(!isNaN(b.inputTop))d.style.top=parseInt(b.inputTop)+"px";this.doAddLabel(a,b);if(this.input[b.name]==null){var e=document.createElement("INPUT");
e.type="HIDDEN";e.name=b.name;e.firstValue=a._value;a.appendChild(e);this.input[b.name]=e}if(!this.firstValue[b.name])this.firstValue[b.name]=b.value;b.checked==!0&&this.check(a);b.hidden==!0&&this.hide(a);b.disabled==!0&&this.userDisable(a);this.doAttachEvents(a);return this},destruct:function(a){if(a.lastChild==this.input[a._group]){var b=!1,c;for(c in this.r)!b&&this.r[c]._group==a._group&&this.r[c]._idd!=a._idd&&(this.r[c].appendChild(this.input[a._group]),b=!0);b||(this.input[a._group].parentNode.removeChild(this.input[a._group]),
this.input[a._group]=null,this.firstValue[a._group]=null)}var d=a._idd;this.doUnloadNestedLists(a);this.doDestruct(a);return d},doClick:function(a){a.childNodes[1].childNodes[0].focus();if(a._enabled&&!a._checked&&!a._ro){var b=[a._group,a._value,!0];a.checkEvent("onBeforeChange")&&a.callEvent("onBeforeChange",b)!==!0||(this.setChecked(a,!0),a.getForm()._autoCheck(),a.callEvent("onChange",b))}},doCheckValue:function(a){var b=null,c;for(c in this.r)if(this.r[c]._checked&&this.r[c]._enabled&&this.r[c]._group==
a._group)b=this.r[c]._value;b!=null?(this.input[a._group].setAttribute("name",String(a._group)),this.input[a._group].setAttribute("value",b),this.input[a._group]._value=b):(this.input[a._group].removeAttribute("name"),this.input[a._group].removeAttribute("value"),this.input[a._group]._value=null)},setChecked:function(a,b){var b=b===!0,c;for(c in this.r)if(this.r[c]._group==a._group){var d=!1;if(this.r[c]._idd==a._idd){if(this.r[c]._checked!=b)this.r[c]._checked=b,d=!0}else if(this.r[c]._checked)this.r[c]._checked=
!1,d=!0;if(d)this.r[c].childNodes[0].className="dhxlist_img "+(this.r[c]._checked?"rdbt1":"rdbt0")}this.doCheckValue(a)},getChecked:function(a){return this.input[a._group]._value},_getFirstValue:function(a){return this.firstValue[a._group]},setValue:function(){},setValue:function(a,b){a._value=b;if(a._checked)this.input[a._group].value=b},getValue:function(a){return a._value}};
(function(){for(var a in{doAddLabel:1,doDestruct:1,doUnloadNestedLists:1,doAttachEvents:1,check:1,unCheck:1,isChecked:1,enable:1,disable:1,isEnabled:1,setText:1,getText:1,getValue:1,setReadonly:1,isReadonly:1})dhtmlXForm.prototype.items.radio[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.select={render:function(a,b){a._type="se";a._enabled=!0;a._value=null;a._newValue=null;this.doAddLabel(a,b);this.doAddInput(a,b,"SELECT",null,!0,!0,"dhxlist_txt_select");this.doAttachEvents(a);this.doLoadOpts(a,b);if(b.connector){var c=this;dhtmlxAjax.get(b.connector,function(b){for(var e=b.doXPath("//item"),f=[],h=0;h<e.length;h++)f[h]={label:e[h].getAttribute("label"),value:e[h].getAttribute("value"),selected:e[h].getAttribute("selected")!=null};c.doLoadOpts(a,{options:f},
!0)})}return this},destruct:function(a){this.doUnloadNestedLists(a);a.callEvent=null;a.checkEvent=null;a.getForm=null;a._autoCheck=null;a._enabled=null;a._idd=null;a._type=null;a._value=null;a._newValue=null;a.onselectstart=null;a.childNodes[1].childNodes[0].onclick=null;a.childNodes[1].childNodes[0].onkeydown=null;a.childNodes[1].childNodes[0].onchange=null;a.childNodes[1].childNodes[0].onblur=null;for(a.childNodes[1].removeChild(a.childNodes[1].childNodes[0]);a.childNodes.length>0;)a.removeChild(a.childNodes[0]);
a.parentNode.removeChild(a);a=null},doAddLabel:function(a,b){var c=document.createElement("DIV");c.className="dhxlist_txt_label "+b.labelAlign;c.innerHTML="<label for='"+b.uid+"'>"+b.label+"</label>";a.appendChild(c);if(b.label.length==0)c.style.display="none";if(!isNaN(b.labelWidth))c.style.width=parseInt(b.labelWidth)+"px";if(!isNaN(b.labelHeight))c.style.height=parseInt(b.labelHeight)+"px";if(!isNaN(b.labelLeft))c.style.left=parseInt(b.labelLeft)+"px";if(!isNaN(b.labelTop))c.style.top=parseInt(b.labelTop)+
"px"},doAddInput:function(a,b,c,d,e,f,h){var j=document.createElement("DIV");j.className="dhxlist_cont";a.appendChild(j);var g=document.createElement(c);g.className=h;g.name=a._idd;g._idd=a._idd;g.id=b.uid;if(typeof d=="string")g.type=d;j.appendChild(g);b.readonly&&this.setReadonly(a,!0);b.hidden==!0&&this.hide(a);b.disabled==!0&&this.userDisable(a);if(e){if(!isNaN(b.inputLeft))j.style.left=parseInt(b.inputLeft)+"px";if(!isNaN(b.inputTop))j.style.top=parseInt(b.inputTop)+"px"}var i="";f&&(isNaN(b.inputWidth)||
(i+="width:"+parseInt(b.inputWidth)+"px;"),isNaN(b.inputHeight)||(i+="height:"+parseInt(b.inputHeight)+"px;"));typeof b.style=="string"&&(i+=b.style);g.style.cssText=i;b.maxLength&&g.setAttribute("maxlength",b.maxLength);b.connector&&g.setAttribute("connector",b.connector)},doAttachEvents:function(a){var b=a.childNodes[1].childNodes[0],c=this;b.onclick=function(){c.doOnChange(this)};b.onkeydown=function(){c.doOnChange(this)};b.onchange=function(){c.doOnChange(this)}},doLoadOpts:function(a,b,c){for(var d=
a.childNodes[1].childNodes[0],e=b.options,f=0;f<e.length;f++){var h=new Option(e[f].text||e[f].label,e[f].value);d.options.add(h);if(e[f].selected==!0||e[f].selected=="true")h.selected=!0,a._value=e[f].value}c===!0&&a.callEvent("onOptionsLoaded",[a._idd])},doOnChange:function(a){var b=a.parentNode.parentNode;b._newValue=a.selectedIndex>=0?a.options[a.selectedIndex].value:null;if(b._newValue!=b._value){if(b.checkEvent("onBeforeChange")&&b.callEvent("onBeforeChange",[b._idd,b._value,b._newValue])!==
!0){for(var c=0;c<a.options.length;c++)if(a.options[c].value==b._value)a.options[c].selected=!0;return}b._value=b._newValue;b.callEvent("onChange",[b._idd,b._value])}b._autoCheck()},setText:function(a,b){b||(b="");a.childNodes[0].childNodes[0].innerHTML=b;a.childNodes[0].style.display=b.length==0||b==null?"none":""},getText:function(a){return a.childNodes[0].childNodes[0].innerHTML},enable:function(a){if(String(a.className).search("disabled")>=0)a.className=String(a.className).replace(/disabled/gi,
"");a._enabled=!0;a.childNodes[1].childNodes[0].removeAttribute("disabled")},disable:function(a){String(a.className).search("disabled")<0&&(a.className+=" disabled");a._enabled=!1;a.childNodes[1].childNodes[0].setAttribute("disabled",!0)},getOptions:function(a){return a.childNodes[1].childNodes[0].options},setValue:function(a,b){for(var c=this.getOptions(a),d=0;d<c.length;d++)if(c[d].value==b)c[d].selected=!0,a._value=c[d].value},getValue:function(a){for(var b=-1,c=this.getOptions(a),d=0;d<c.length;d++)if(c[d].selected)b=
c[d].value;return b},setWidth:function(a,b){a.childNodes[1].childNodes[0].style.width=b+"px"},getSelect:function(a){return a.childNodes[1].childNodes[0]}};(function(){for(var a in{doUnloadNestedLists:1})dhtmlXForm.prototype.items.select[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.multiselect={doLoadOpts:function(a,b){var c=a.childNodes[1].childNodes[0];c.multiple=!0;if(!isNaN(b.size))c.size=Number(b.size);a._value=[];a._newValue=[];for(var d=b.options,e=0;e<d.length;e++){var f=new Option(d[e].text||d[e].label,d[e].value);c.options.add(f);if(d[e].selected==!0||d[e].selected=="true")f.selected=!0,a._value.push(d[e].value)}},doAttachEvents:function(a){var b=a.childNodes[1].childNodes[0],c=this;b.onblur=function(){c.doOnChange(this)};b.onclick=function(){a._autoCheck()}},
doOnChange:function(a){var b=a.parentNode.parentNode;b._newValue=[];for(var c=0;c<a.options.length;c++)a.options[c].selected&&b._newValue.push(a.options[c].value);if(b._value.sort().toString()!=b._newValue.sort().toString()){if(b.checkEvent("onBeforeChange")&&b.callEvent("onBeforeChange",[b._idd,b._value,b._newValue])!==!0){for(var d={},c=0;c<b._value.length;c++)d[b._value[c]]=!0;for(c=0;c<a.options.length;c++)a.options[c].selected=d[a.options[c].value]==!0;d=null;return}b._value=[];for(c=0;c<b._newValue.length;c++)b._value.push(b._newValue[c]);
b.callEvent("onChange",[b._idd,b._value])}b._autoCheck()},setValue:function(a,b){var c={};typeof b=="string"&&(b=b.split(","));typeof b!="object"&&(b=[b]);for(var d=0;d<b.length;d++)c[b[d]]=!0;for(var e=this.getOptions(a),d=0;d<e.length;d++)e[d].selected=c[e[d].value]==!0},getValue:function(a){for(var b=[],c=this.getOptions(a),d=0;d<c.length;d++)c[d].selected&&b.push(c[d].value);return b}};
(function(){for(var a in dhtmlXForm.prototype.items.select)dhtmlXForm.prototype.items.multiselect[a]||(dhtmlXForm.prototype.items.multiselect[a]=dhtmlXForm.prototype.items.select[a])})();
dhtmlXForm.prototype.items.input={render:function(a,b){var c=!isNaN(b.rows);a._type="ta";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,c?"TEXTAREA":"INPUT",c?null:"TEXT",!0,!0,"dhxlist_txt_textarea");this.doAttachEvents(a);if(c)a.childNodes[1].childNodes[0].rows=b.rows;this.setValue(a,b.value);return this},doAttachEvents:function(a){a.childNodes[1].childNodes[0].onblur=function(){if(a._value!=this.value)a.checkEvent("onBeforeChange")&&a.callEvent("onBeforeChange",[this._idd,a._value,this.value])!==
!0?this.value=a._value:(a._value=this.value,a.callEvent("onChange",[this._idd,this.value]))}},setValue:function(a,b){a._value=b;a.childNodes[1].childNodes[0].value=a._value||""},getValue:function(a){return a._value},setReadonly:function(a,b){a._ro=b===!0;a._ro?a.childNodes[1].childNodes[0].setAttribute("readOnly","true"):a.childNodes[1].childNodes[0].removeAttribute("readOnly")},isReadonly:function(a){if(!a._ro)a._ro=!1;return a._ro},setFocus:function(a){a.childNodes[1].childNodes[0].focus()},getInput:function(a){return a.childNodes[1].childNodes[0]}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1})dhtmlXForm.prototype.items.input[a]=dhtmlXForm.prototype.items.select[a]})();dhtmlXForm.prototype.items.password={render:function(a,b){a._type="pw";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","PASSWORD",!0,!0,"dhxlist_txt_textarea");this.doAttachEvents(a);a._value=b.value||"";a.childNodes[1].childNodes[0].value=a._value;return this}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,doAttachEvents:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,setValue:1,getValue:1,enable:1,disable:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.password[a]=dhtmlXForm.prototype.items.input[a]})();
dhtmlXForm.prototype.items.file={render:function(a,b){a._type="fl";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","FILE",!0,!1,"dhxlist_txt_textarea");a.childNodes[1].childNodes[0].onchange=function(){a.callEvent("onChange",[a._idd,this.value])};return this}};(function(){for(var a in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1})dhtmlXForm.prototype.items.file[a]=dhtmlXForm.prototype.items.input[a]})();
dhtmlXForm.prototype.items.label={render:function(a,b){a._type="lb";a._enabled=!0;a._checked=!0;var c=document.createElement("DIV");c.className="dhxlist_txt_label2"+(b._isTopmost?" topmost":"");c.innerHTML=b.label;a.appendChild(c);b.hidden==!0&&this.hide(a);b.disabled==!0&&this.userDisable(a);if(!isNaN(b.labelWidth))c.style.width=parseInt(b.labelWidth)+"px";if(!isNaN(b.labelHeight))c.style.height=parseInt(b.labelHeight)+"px";if(!isNaN(b.labelLeft))c.style.left=parseInt(b.labelLeft)+"px";if(!isNaN(b.labelTop))c.style.top=
parseInt(b.labelTop)+"px";return this},destruct:function(a){this.doUnloadNestedLists(a);a._autoCheck=null;a._enabled=null;a._type=null;a.callEvent=null;a.checkEvent=null;a.getForm=null;a.onselectstart=null;a.parentNode.removeChild(a);a=null},enable:function(a){if(String(a.className).search("disabled")>=0)a.className=String(a.className).replace(/disabled/gi,"");a._enabled=!0},disable:function(a){String(a.className).search("disabled")<0&&(a.className+=" disabled");a._enabled=!1},isEnabled:function(a){return a._enabled},
setText:function(a,b){a.firstChild.innerHTML=b},getText:function(a){return a.firstChild.innerHTML}};(function(){for(var a in{doUnloadNestedLists:1})dhtmlXForm.prototype.items.label[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.button={render:function(a,b){a._type="bt";a._enabled=!0;a._cmd=b.command;a._name=b.name;a.className=String(a.className).replace("item_label_top","item_label_left").replace("item_label_right","item_label_left");if(!isNaN(b.width))var c=Math.max(b.width-10,0);a.innerHTML='<div class="dhx_list_btn" role="link" tabindex="0" dir="ltr" onkeypress="e=event||window.arguments[0];if((e.keyCode==32||e.charCode==32)&&!this.parentNode._busy){this.parentNode._busy=true;e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);return false;}" ontouchstart="e=event;e.preventDefault();if(!this.parentNode._busy){this.parentNode._busy=true;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);}" onblur="_dhxForm_doClick(this.childNodes[0],\'mouseout\');" ><table cellspacing="0" cellpadding="0" border="0" align="left"><tr><td class="btn_l"><div class="btn_l">&nbsp;</div></td><td class="btn_m"><div class="btn_txt"'+
(c!=null?' style="width:'+c+'px;"':"")+">"+b.value+'</div></td><td class="btn_r"><div class="btn_r">&nbsp;</div></td></tr></table></div>';if(!isNaN(b.inputLeft))a.childNodes[0].style.left=parseInt(b.inputLeft)+"px";if(!isNaN(b.inputTop))a.childNodes[0].style.top=parseInt(b.inputTop)+"px";b.hidden==!0&&this.hide(a);b.disabled==!0&&this.userDisable(a);a.onselectstart=function(a){a=a||event;a.cancelBubble=!0;return a.returnValue=!1};a.childNodes[0].onselectstart=function(a){a=a||event;a.cancelBubble=
!0;return a.returnValue=!1};a.childNodes[0].childNodes[0].onmouseover=function(){var a=this.parentNode.parentNode;if(a._enabled)this._isOver=!0,this.className="dhx_list_btn_over",a=null};a.childNodes[0].childNodes[0].onmouseout=function(){var a=this.parentNode.parentNode;if(a._enabled)this.className="",this._isOver=this._pressed=this._allowClick=!1,a=null};a.childNodes[0].childNodes[0].onmousedown=function(){if(!this._pressed){var a=this.parentNode.parentNode;if(a._enabled)this.className="dhx_list_btn_pressed",
this._pressed=this._allowClick=!0,a=null}};a.childNodes[0].childNodes[0].onmouseup=function(){if(this._pressed){var a=this.parentNode.parentNode;if(a._enabled)a._busy=!1,this.className=this._isOver?"dhx_list_btn_over":"",this._pressed&&this._allowClick&&a.callEvent("_onButtonClick",[a._name,a._cmd]),this._pressed=this._allowClick=!1,a=null}};return this},destruct:function(a){this.doUnloadNestedLists(a);a.callEvent=null;a.checkEvent=null;a.getForm=null;a._autoCheck=null;a._type=null;a._enabled=null;
a._cmd=null;a._name=null;a.onselectstart=null;a.childNodes[0].onselectstart=null;a.childNodes[0].onkeypress=null;a.childNodes[0].ontouchstart=null;a.childNodes[0].onblur=null;a.childNodes[0].childNodes[0].onmouseover=null;a.childNodes[0].childNodes[0].onmouseout=null;a.childNodes[0].childNodes[0].onmousedown=null;for(a.childNodes[0].childNodes[0].onmouseup=null;a.childNodes.length>0;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a);a=null},enable:function(a){if(String(a.className).search("disabled")>=
0)a.className=String(a.className).replace(/disabled/gi,"");a._enabled=!0;a.childNodes[0].tabIndex=0;a.childNodes[0].removeAttribute("disabled")},disable:function(a){String(a.className).search("disabled")<0&&(a.className+=" disabled");a._enabled=!1;a.childNodes[0].tabIndex=-1;a.childNodes[0].setAttribute("disabled","true")},isEnabled:function(a){return a._enabled},setText:function(a,b){a.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML=b},getText:function(a){return a.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML}};
(function(){for(var a in{doUnloadNestedLists:1})dhtmlXForm.prototype.items.button[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.hidden={render:function(a,b){a.style.display="none";a._name=b.name;a._type="hd";a._enabled=!0;var c=document.createElement("INPUT");c.type="HIDDEN";c.name=b.name;c.value=b.value||"";a.appendChild(c);return this},destruct:function(a){for(this.doUnloadNestedLists(a);a.childNodes.length>0;)a.removeChild(a.childNodes[0]);a._autoCheck=null;a._name=null;a._type=null;a._enabled=null;a.onselectstart=null;a.callEvent=null;a.checkEvent=null;a.getForm=null;a.parentNode.removeChild(a);
a=null},enable:function(a){a._enabled=!0;a.childNodes[0].setAttribute("name",a._name)},disable:function(a){a._enabled=!1;a.childNodes[0].removeAttribute("name")},isEnabled:function(a){return a._enabled},show:function(){},hide:function(){},isHidden:function(){return!0},setValue:function(a,b){a.childNodes[0].value=b},getValue:function(a){return a.childNodes[0].value}};(function(){for(var a in{doUnloadNestedLists:1})dhtmlXForm.prototype.items.hidden[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.list={render:function(a){a._type="list";a._enabled=!0;a._isNestedForm=!0;a.className="dhxlist_base_nested";return[this,new dhtmlXForm(a)]},destruct:function(){}};
dhtmlXForm.prototype.items.fieldset={render:function(a,b){a._type="fs";a._width=b.width;a._enabled=!0;a._checked=!0;a.className="fs_"+b.position+(typeof b.className=="string"?" "+b.className:"");var c=document.createElement("FIELDSET");c.className="dhxlist_fs";var d=String(b.labelAlign).replace("align_","");c.innerHTML="<legend class='fs_legend' align='"+d+"' style='text-align:"+d+"'>"+b.label+"</legend>";a.appendChild(c);if(!isNaN(b.inputLeft))c.style.left=parseInt(b.inputLeft)+"px";if(!isNaN(b.inputTop))c.style.top=
parseInt(b.inputTop)+"px";if(b.inputWidth!="auto"&&!isNaN(b.inputWidth))c.style.width=parseInt(b.inputWidth)+"px";a._addSubListNode=function(){var a=document.createElement("DIV");this.childNodes[0].appendChild(a);return a};b.hidden==!0&&this.hide(a);b.disabled==!0&&this.userDisable(a);return this},destruct:function(a){this.doUnloadNestedLists(a);a._checked=null;a._enabled=null;a._idd=null;a._type=null;a._width=null;a.onselectstart=null;a._addSubListNode=null;a._autoCheck=null;a.callEvent=null;a.checkEvent=
null;for(a.getForm=null;a.childNodes.length>0;)a.removeChild(a.childNodes[0]);a.parentNode.removeChild(a);a=null},setText:function(a,b){a.childNodes[0].childNodes[0].innerHTML=b},getText:function(a){return a.childNodes[0].childNodes[0].innerHTML},enable:function(a){a._enabled=!0;if(String(a.className).search("disabled")>=0)a.className=String(a.className).replace(/disabled/gi,"")},disable:function(a){a._enabled=!1;String(a.className).search("disabled")<0&&(a.className+=" disabled")},isEnabled:function(a){return a._enabled},
setWidth:function(a,b){a.childNodes[0].style.width=b+"px";a._width=b},getWidth:function(a){return a._width}};(function(){for(var a in{doUnloadNestedLists:1})dhtmlXForm.prototype.items.fieldset[a]=dhtmlXForm.prototype.items.checkbox[a]})();
dhtmlXForm.prototype.items.block={render:function(a,b){a._type="bl";a._width=b.width;a._enabled=!0;a._checked=!0;a.className="block_"+b.position+(typeof b.className=="string"?" "+b.className:"");var c=document.createElement("DIV");c.className="dhxlist_block";if(b.style)c.style.cssText=b.style;a.appendChild(c);if(!isNaN(b.inputLeft))c.style.left=parseInt(b.inputLeft)+"px";if(!isNaN(b.inputTop))c.style.top=parseInt(b.inputTop)+"px";if(b.inputWidth!="auto"&&!isNaN(b.inputWidth))c.style.width=parseInt(b.inputWidth)+
"px";a._addSubListNode=function(){var a=document.createElement("DIV");a._inBlcok=!0;this.childNodes[0].appendChild(a);return a};b.hidden==!0&&this.hide(a);b.disabled==!0&&this.userDisable(a);return this}};(function(){for(var a in{enable:1,disable:1,isEnabled:1,setWidth:1,getWidth:1,doUnloadNestedLists:1,destruct:1})dhtmlXForm.prototype.items.block[a]=dhtmlXForm.prototype.items.fieldset[a]})();dhtmlXForm.prototype.items.newcolumn={};
dhtmlXForm.prototype.items.template={render:function(a,b){var c=!isNaN(b.rows);a._type="tp";a._enabled=!0;if(b.format){if(typeof b.format=="function")a.format=b.format;if(typeof window[b.format]=="function")a.format=window[b.format]}if(!a.format)a.format=function(a,b){return b};this.doAddLabel(a,b);this.doAddInput(a,b,"DIV",null,!0,!0,"dhxlist_item_template");a._value=b.value||"";a.childNodes[1].childNodes[0].innerHTML=a.format(a._idd,a._value);return this},setValue:function(a,b){a._value=b;a.childNodes[1].childNodes[0].innerHTML=
a.format(a._idd,a._value)},getValue:function(a){return a._value},enable:function(a){if(String(a.className).search("disabled")>=0)a.className=String(a.className).replace(/disabled/gi,"");a._enabled=!0},disable:function(a){String(a.className).search("disabled")<0&&(a.className+=" disabled");a._enabled=!1}};(function(){for(var a in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1})dhtmlXForm.prototype.items.template[a]=dhtmlXForm.prototype.items.select[a]})();
dhtmlXForm.prototype._ulToObject=function(a,b){for(var c=[],d=0;d<a.childNodes.length;d++){if(String(a.childNodes[d].tagName||"").toLowerCase()=="li"){for(var e={},f=a.childNodes[d],h=0;h<b.length;h++)f.getAttribute(b[h])!=null&&(e[String(b[h]).replace("ftype","type")]=f.getAttribute(b[h]));if(!e.label)try{e.label=f.firstChild.nodeValue}catch(j){}var g=f.getElementsByTagName("UL");g[0]!=null&&(e[e.type=="select"?"options":"list"]=dhtmlXForm.prototype._ulToObject(g[0],b));c[c.length]=e}if(String(a.childNodes[d].tagName||
"").toLowerCase()=="div"){e={type:"label"};try{e.label=a.childNodes[d].firstChild.nodeValue}catch(i){}c[c.length]=e}}return c};
dhtmlxEvent(window,"load",function(){for(var a="ftype,name,value,label,check,checked,disabled,text,rows,select,selected,command,width,style,labelWidth,labelHeight,labelLeft,labelTop,inputWidth,inputHeight,inputLeft,inputTop,position,size".split(","),b=document.getElementsByTagName("UL"),c=[],d=0;d<b.length;d++)if(b[d].className=="dhtmlxForm"){var e=document.createElement("DIV");c[c.length]={nodeUL:b[d],nodeForm:e,data:dhtmlXForm.prototype._ulToObject(b[d],a),name:b[d].getAttribute("name")||null}}for(d=
0;d<c.length;d++){c[d].nodeUL.parentNode.insertBefore(c[d].nodeForm,c[d].nodeUL);var f=new dhtmlXForm(c[d].nodeForm,c[d].data);c[d].name!==null&&(window[c[d].name]=f);var h=c[d].nodeUL.getAttribute("oninit")||null;c[d].nodeUL.parentNode.removeChild(c[d].nodeUL);c[d].nodeUL=null;c[d].nodeForm=null;c[d].data=null;c[d]=null;if(h)if(typeof h=="function")h();else if(typeof window[h]=="function")window[h]()}});
if(window.dhtmlXContainer){if(!dhtmlx.attaches)dhtmlx.attaches={};dhtmlx.attaches.attachForm||(dhtmlx.attaches.attachForm=function(a){var b=document.createElement("DIV");b.id="dhxFormObj_"+this._genStr(12);b.style.position="relative";b.style.width="100%";b.style.height="100%";b.style.overflow="auto";b.cmp="form";this.attachObject(b);this.vs[this.av].form=new dhtmlXForm(b,a);this.vs[this.av].form.setSkin(this.skin);this.vs[this.av].form.setSizes();this.vs[this.av].formObj=b;return this.vs[this.av].form});
if(!dhtmlx.detaches)dhtmlx.detaches={};dhtmlx.detaches.detachForm||(dhtmlx.detaches.detachForm=function(a){if(a.form)a.form.unload(),a.form=null,a.formObj=null,a.attachForm=null})}dhtmlXForm.prototype.setUserData=function(a,b,c){if(!this._userdata)this._userdata={};this._userdata[a]=this._userdata[a]||{};this._userdata[a][b]=c};dhtmlXForm.prototype.getUserData=function(a,b){return this._userdata?(this._userdata[a]||{})[b]||"":""};
dhtmlXForm.prototype.setRTL=function(a){this._rtl=a===!0?!0:!1;this.base.className=this._rtl?"dhxform_rtl":""};_dhxForm_doClick=function(a,b){if(typeof b=="object")var c=b[1],b=b[0];if(document.createEvent){var d=document.createEvent("MouseEvents");d.initEvent(b,!0,!1);a.dispatchEvent(d)}else if(document.createEventObject)d=document.createEventObject(),d.button=1,a.fireEvent("on"+b,d);c&&window.setTimeout(function(){_dhxForm_doClick(a,c)},100)};
dhtmlXForm.prototype.setFormData=function(a){for(var b in a){var c=this.getItemType(b);switch(c){case "checkbox":this[a[b]==!0||parseInt(a[b])==1||a[b]=="true"?"checkItem":"uncheckItem"](b);break;case "radio":this.checkItem(b,a[b]);break;case "input":case "textarea":case "select":case "hidden":case "template":case "combo":case "calendar":case "editor":this.setItemValue(b,a[b]);break;default:if(this["setFormData_"+c])this["setFormData_"+c](b,a[b]);else{if(!this.hId)this.hId=this._genStr(12);this.setUserData(this.hId,
b,a[b])}}}};
dhtmlXForm.prototype.getFormData=function(a,b){var c={},d=this,e;for(e in this.itemPull){var f=this.itemPull[e]._idd,h=this.itemPull[e]._type;h=="ch"&&(c[f]=this.isItemChecked(f)?1:0);h=="ra"&&!c[this.itemPull[e]._group]&&(c[this.itemPull[e]._group]=this.getCheckedValue(this.itemPull[e]._group));h in{se:1,ta:1,pw:1,hd:1,tp:1,calendar:1,combo:1,editor:1}&&(c[f]=this.getItemValue(f,a));this["getFormData_"+h]&&(c[f]=this["getFormData_"+h](f));if(this.itemPull[e]._list)for(var j=0;j<this.itemPull[e]._list.length;j++){var g=this.itemPull[e]._list[j].getFormData(b),
i;for(i in g)c[i]=g[i]}}if(!b&&this.hId&&this._userdata[this.hId])for(e in this._userdata[this.hId])c[e]||(c[e]=this._userdata[this.hId][e]);return c};_dhxForm_isIPad=navigator.userAgent.search(/iPad/gi)>=0;
dhtmlXForm.prototype.load=function(a,b,c){var d=this;d.callEvent("onXLS",[]);typeof b=="function"&&(c=b,b="xml");dhtmlxAjax.get(a,function(e){var f={};if(b=="json")eval("data="+e.xmlDoc.responseText);else for(var h=e.doXPath("//data/*"),j=0;j<h.length;j++)f[h[j].tagName]=h[j].firstChild?h[j].firstChild.nodeValue:"";var g=a.match(/(\?|\&)id\=([a-z0-9_]*)/i);g&&g[0]&&(g=g[0].split("=")[1]);if(d.callEvent("onBeforeDataLoad",[g,f]))d.formId=g,d._last_load_data=f,d.setFormData(f),d.resetDataProcessor("updated");
d.callEvent("onXLE",[]);c&&c.call(this)})};dhtmlXForm.prototype.reset=function(){this.callEvent("onBeforeReset",[this.formId,this.getFormData()])&&(this._last_load_data&&this.setFormData(this._last_load_data),this.callEvent("onAfterReset",[this.formId]))};
dhtmlXForm.prototype.send=function(a,b,c){typeof b=="function"&&(c=b,b="post");if(this.validate()){var d=this.getFormData(),e=[],f;for(f in d)e.push(f+"="+encodeURIComponent(d[f]));var h=function(a){c&&c.call(this,a,a.xmlDoc.responseText)};b=="get"?dhtmlxAjax.get(a+(a.indexOf("?")==-1?"?":"&")+e.join("&"),h):dhtmlxAjax.post(a,e.join("&"),h)}};dhtmlXForm.prototype.save=function(){};dhtmlXForm.prototype.dummy=function(){};dhtmlXForm.prototype._changeFormId=function(a,b){this.formId=b};
dhtmlXForm.prototype._dp_init=function(a){a._methods=["dummy","dummy","_changeFormId","dummy"];a._getRowData=function(a){var c=this.obj.getFormData();c[this.action_param]=this.obj.getUserData(a,this.action_param);return c};a._clearUpdateFlag=function(){};a.attachEvent("onAfterUpdate",function(a,c,d,e){if(c=="inserted"||c=="updated")this.obj.resetDataProcessor("updated"),this.obj._last_load_data=this.obj.getFormData();this.obj.callEvent("onAfterSave",[this.obj.formId,e]);return!0});a.autoUpdate=!1;
a.setTransactionMode("POST",!0);this.dp=a;this.formId=(new Date).valueOf();this.resetDataProcessor("inserted");this.save=function(){this.callEvent("onBeforeSave",[this.formId,this.getFormData()])&&this.validate()&&a.sendData()}};dhtmlXForm.prototype.resetDataProcessor=function(a){if(this.dp)this.dp.updatedRows=[],this.dp._in_progress=[],this.dp.setUpdated(this.formId,!0,a)};dhtmlxValidation=function(){};
dhtmlxValidation.prototype={isEmpty:function(a){return a==""},isNotEmpty:function(a){return!a==""},isValidBoolean:function(a){return!!a.match(/^(0|1|true|false)$/)},isValidEmail:function(a){return!!a.match(/(^[a-z]([a-z0-9_\.]*)@([a-z_\.]*)([.][a-z]{3})$)|(^[a-z]([a-z_\.]*)@([a-z_\-\.]*)(\.[a-z]{2,3})$)/i)},isValidInteger:function(a){return!!a.match(/(^-?\d+$)/)},isValidNumeric:function(a){return!!a.match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(a){return!!a.match(/^[_\-a-z0-9]+$/gi)},
isValidDatetime:function(a){var b=a.match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return b&&!!(b[1]<=9999&&b[2]<=12&&b[3]<=31&&b[4]<=59&&b[5]<=59&&b[6]<=59)||!1},isValidDate:function(a){var b=a.match(/^(\d{4})-(\d{2})-(\d{2})$/);return b&&!!(b[1]<=9999&&b[2]<=12&&b[3]<=31)||!1},isValidTime:function(a){var b=a.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return b&&!!(b[1]<=24&&b[2]<=59&&b[3]<=59)||!1},isValidIPv4:function(a){var b=a.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return b&&
!!(b[1]<=255&&b[2]<=255&&b[3]<=255&&b[4]<=255)||!1},isValidCurrency:function(a){return a.match(/^\$?\s?\d+?[\.,\,]?\d+?\s?\$?$/)&&!0||!1},isValidSSN:function(a){return a.match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&!0||!1},isValidSIN:function(a){return a.match(/^\d{9}$/)&&!0||!1}};dhtmlxValidation=new dhtmlxValidation;
dhtmlXForm.prototype.items.calendar={ev:!1,inp:null,calendar:{},f:{},f0:{},render:function(a,b){var c=this;a._type="calendar";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","TEXT",!0,!0,"dhxlist_txt_textarea");this.f[a._idd]=b.dateFormat||"%d-%m-%Y";this.f0[a._idd]=b.serverDateFormat||this.f[a._idd];a._value=b.value?b.value instanceof Date?b.value:this.strToDate(a,b.value):"";a.childNodes[1].childNodes[0].value=this.getFValue(a,a._value,this.f[a._idd]);this.calendar[a._idd]=new dhtmlXCalendarObject(a.childNodes[1].childNodes[0]);
this.calendar[a._idd].setSkin(b.skin||"dhx_skyblue");this.calendar[a._idd].setDateFormat(this.f[a._idd]);b.enableTime||this.calendar[a._idd].hideTime();typeof b.calendarPosition!="undefined"&&this.calendar[a._idd].setPosition(b.calendarPosition);this.calendar[a._idd]._itemIdd=a._idd;this.calendar[a._idd].attachEvent("onBeforeChange",function(b){if(a._value!=b){if(a.checkEvent("onBeforeChange")&&a.callEvent("onBeforeChange",[a._idd,a._value,b])!==!0)return!1;a._value=b;c.setValue(a,b);a.callEvent("onChange",
[this._itemIdd,a._value])}return!0});a.childNodes[1].childNodes[0]._idd=a._idd;return this},getCalendar:function(a){return this.calendar[a._idd]},getFValue:function(a,b,c){if(b instanceof Date)var d=function(a){return String(a).length==1?"0"+String(a):a},e=function(a){switch(a){case "%Y":return b.getFullYear();case "%m":return d(b.getMonth()+1);case "%n":return date.getMonth()+1;case "%d":return d(b.getDate());case "%j":return b.getDate();case "%y":return d(b.getYear()%100);case "%D":return{0:"Su",
1:"Mo",2:"Tu",3:"We",4:"Th",5:"Fr",6:"Sa"}[b.getDay()];case "%l":return{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}[b.getDay()];case "%M":return{0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}[b.getMonth()];case "%F":return{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}[b.getMonth()];case "%H":return d(b.getHours());
case "%h":return d((b.getHours()+11)%12+1);case "%i":return d(b.getMinutes());case "%s":return d(b.getSeconds());case "%a":return b.getHours()>11?"pm":"am";case "%A":return b.getHours()>11?"PM":"AM";default:return a}},f=String(c).replace(/%[a-zA-Z]/g,e);return f||String(b)},strToDate:function(a,b){for(var c={Y:0,m:0,d:0,H:0,i:0,s:0},d=String(b).match(/[0-9]{1,}/g),e=this.f0[a._idd].match(/%[a-zA-Z]/g),f=0;f<e.length;f++){var h=e[f].replace(/%/g,"");typeof c[h]!="undefined"&&(c[h]=Number(d[f]))}return new Date(c.Y,
c.m-1,c.d,c.H,c.i,c.s,0)},setValue:function(a,b){a._value=b instanceof Date?b:this.strToDate(a,b);a.childNodes[1].childNodes[0].value=this.getFValue(a,a._value,this.f[a._idd])},getValue:function(a,b){return b===!0?this.getFValue(a,a._value,this.f0[a._idd]):a._value},destruct:function(a){this.calendar[a._idd].unload();this.calendar[a._idd]=null;try{delete this.calendar[a._idd]}catch(b){}this.f[a._idd]=null;try{delete this.f[a._idd]}catch(c){}this.cz[a._idd].parentNode.removeChild(this.cz[a._idd]);
this.cz[a._idd]=null;try{delete this.cz[a._idd]}catch(d){}var e=0,f;for(f in this.calendar)e++;if(e==0)_isIE?document.body.detachEvent("onclick",this.clickEvent):window.removeEventListener("click",this.clickEvent,!1),this.ev=!1;a.childNodes[1].childNodes[0]._idd=null;a.childNodes[1].childNodes[0].onkeypress=null;this.d2(a);a=null}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.calendar[a]=dhtmlXForm.prototype.items.input[a]})();dhtmlXForm.prototype.items.calendar.d2=dhtmlXForm.prototype.items.input.destruct;dhtmlXForm.prototype.getCalendar=function(a){return this.doWithItem(a,"getCalendar")};
dhtmlXForm.prototype.items.colorpicker={ev:!1,inp:null,colorpicker:{},cz:{},render:function(a,b){var c=this;a._type="colorpicker";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"INPUT","TEXT",!0,!0,"dhxlist_txt_textarea");a._value=b.value||"";a.childNodes[1].childNodes[0].value=a._value;this.cz[a._idd]=document.createElement("DIV");this.cz[a._idd].style.position="absolute";this.cz[a._idd].style.top="0px";this.cz[a._idd].style.zIndex=1;document.body.insertBefore(this.cz[a._idd],document.body.firstChild);
this.colorpicker[a._idd]=new dhtmlXColorPicker(this.cz[a._idd],null,null,!0);this.colorpicker[a._idd].setImagePath(b.imagePath||"");this.colorpicker[a._idd].init();this.colorpicker[a._idd].elements.cs_Content.onclick=function(a){(a||event).cancelBubble=!0};this.colorpicker[a._idd].setOnSelectHandler(function(b){if(a._value!=b&&!(a.checkEvent("onBeforeChange")&&a.callEvent("onBeforeChange",[a._idd,a._value,b])!==!0))a._value=b,c.setValue(a,b),a.callEvent("onChange",[a._idd,a._value])});a.childNodes[1].childNodes[0]._idd=
a._idd;a.childNodes[1].childNodes[0].onclick=function(){c.colorpicker[this._idd].isVisible()?(c.colorpicker[this._idd].hide(),c.inp=null):(c.colorpicker[this._idd].setPosition(getAbsoluteLeft(this),getAbsoluteTop(this)+this.offsetHeight-1),c.colorpicker[this._idd].setColor(a._value),c.colorpicker[this._idd].show(),c.inp=this._idd)};if(!this.ev)_isIE?document.body.attachEvent("onclick",this.clickEvent):window.addEventListener("click",this.clickEvent,!1),this.ev=!0;return this},clickEvent:function(){dhtmlXForm.prototype.items.colorpicker.hideAllColorPickers()},
hideAllColorPickers:function(){for(var a in this.colorpicker)a!=this.inp&&this.colorpicker[a].hide();this.inp=null},getColorPicker:function(a){return this.colorpicker[a._idd]},destruct:function(a){this.colorpicker[a._idd].elements.cs_Content.onclick=null;this.colorpicker[a._idd].unload();this.colorpicker[a._idd]=null;try{delete this.colorpicker[a._idd]}catch(b){}this.cz[a._idd].parentNode.removeChild(this.cz[a._idd]);this.cz[a._idd]=null;try{delete this.cz[a._idd]}catch(c){}var d=0,e;for(e in this.colorpicker)d++;
if(d==0)_isIE?document.body.detachEvent("onclick",this.clickEvent):window.removeEventListener("click",this.clickEvent,!1),this.ev=!1;a.childNodes[1].childNodes[0]._idd=null;this.d2(a);a=null}};(function(){for(var a in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,setWidth:1,setReadonly:1,isReadonly:1,setValue:1,getValue:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.colorpicker[a]=dhtmlXForm.prototype.items.input[a]})();
dhtmlXForm.prototype.items.colorpicker.d2=dhtmlXForm.prototype.items.input.destruct;dhtmlXForm.prototype.getColorPicker=function(a){return this.doWithItem(a,"getColorPicker")};
dhtmlXColorPicker.prototype.unload=function(){this.elements.cs_SelectorVer.parentNode.removeChild(this.elements.cs_SelectorVer);this.elements.cs_SelectorHor.parentNode.removeChild(this.elements.cs_SelectorHor);this.elements.cs_SelectorVer=null;this.elements.cs_SelectorHor=null;this.elements.cs_SelectorDiv.ondblclick=null;this.elements.cs_SelectorDiv.onmousedown=null;this.elements.cs_SelectorDiv.z=null;this.elements.cs_SelectorDiv.parentNode.removeChild(this.elements.cs_SelectorDiv);this.elements.cs_SelectorDiv=
null;this.elements.cs_LumSelectArrow.onmousedown=null;this.elements.cs_LumSelectArrow.z=null;this.elements.cs_LumSelectArrow.parentNode.removeChild(this.elements.cs_LumSelectArrow);this.elements.cs_LumSelectArrow=null;this.elements.cs_LumSelectLine.parentNode.removeChild(this.elements.cs_LumSelectLine);for(this.elements.cs_LumSelectLine=null;this.elements.cs_LumSelect.childNodes.length>0;)this.elements.cs_LumSelect.removeChild(this.elements.cs_LumSelect.childNodes[0]);this.elements.cs_LumSelect.ondblclick=
null;this.elements.cs_LumSelect.onmousedown=null;this.elements.cs_LumSelect.z=null;this.elements.cs_LumSelect.parentNode.removeChild(this.elements.cs_LumSelect);this.elements.cs_LumSelect=null;this.elements.cs_EndColor.parentNode.removeChild(this.elements.cs_EndColor);this.elements.cs_EndColor=null;this.elements.cs_InputHue.onchange=null;this.elements.cs_InputHue.z=null;this.elements.cs_InputHue.parentNode.removeChild(this.elements.cs_InputHue);this.elements.cs_InputHue=null;this.elements.cs_InputRed.onchange=
null;this.elements.cs_InputRed.z=null;this.elements.cs_InputRed.parentNode.removeChild(this.elements.cs_InputRed);this.elements.cs_InputRed=null;this.elements.cs_InputSat.onchange=null;this.elements.cs_InputSat.z=null;this.elements.cs_InputSat.parentNode.removeChild(this.elements.cs_InputSat);this.elements.cs_InputSat=null;this.elements.cs_InputGreen.onchange=null;this.elements.cs_InputGreen.z=null;this.elements.cs_InputGreen.parentNode.removeChild(this.elements.cs_InputGreen);this.elements.cs_InputGreen=
null;this.elements.cs_Hex.onchange=null;this.elements.cs_Hex.z=null;this.elements.cs_Hex.parentNode.removeChild(this.elements.cs_Hex);this.elements.cs_Hex=null;this.elements.cs_InputLum.onchange=null;this.elements.cs_InputLum.z=null;this.elements.cs_InputLum.parentNode.removeChild(this.elements.cs_InputLum);this.elements.cs_InputLum=null;this.elements.cs_InputBlue.onchange=null;this.elements.cs_InputBlue.z=null;this.elements.cs_InputBlue.parentNode.removeChild(this.elements.cs_InputBlue);this.elements.cs_InputBlue=
null;this.elements.cs_ButtonOk.onclick=null;this.elements.cs_ButtonOk.onmouseout=null;this.elements.cs_ButtonOk.onmouseover=null;this.elements.cs_ButtonOk.z=null;this.elements.cs_ButtonOk.parentNode.removeChild(this.elements.cs_ButtonOk);this.elements.cs_ButtonOk=null;this.elements.cs_ButtonCancel.onclick=null;this.elements.cs_ButtonCancel.onmouseout=null;this.elements.cs_ButtonCancel.onmouseover=null;this.elements.cs_ButtonCancel.z=null;this.elements.cs_ButtonCancel.parentNode.removeChild(this.elements.cs_ButtonCancel);
this.elements.cs_ButtonCancel=null;this.elements.cs_ContentTable.parentNode.removeChild(this.elements.cs_ContentTable);this.elements.cs_ContentTable=null;this.elements.cs_Content.parentNode.removeChild(this.elements.cs_Content);this.z=this.elements.cs_Content=null;this.detachAllEvents();this.customColors=this.linkToObjects=this.language=this.elements=this.container=this._changeValueHEX=this._changeValueRGB=this._changeValueHSV=this._selectCustomColor=this._getColorHEX=this._reinitCustomColors=this._initCustomColors=
this._hex2dec=this._dec2hex=this._colorizeLum=this._drawLum=this._rgb2hsv=this._hsv2rgb=this._drawValues=this._calculateColor=this._getOffsetLeft=this._getOffsetTop=this._getOffset=this._stopMoveLum=this._mouseMoveLum=this._startMoveLum=this._stopMoveColor=this._mouseMoveColor=this._startMoveColor=this._setLumPos=this._getScrollers=this._setCrossPos=this._initEvents=this._initCsIdElement=this.unload=this.showA=this.show=this.normalButton=this.hoverButton=this.isVisible=this.setSkin=this.loadUserLanguage=
this.init=this.setImagePath=this.hideOnSelect=this.linkTo=this.getSelectedColor=this.setOnCancelHandler=this.setOnSelectHandler=this.hide=this.setPosition=this.close=this.setColor=this.setCustomColors=this.redraw=this.restoreFromHEX=this.restoreFromHSV=this.restoreFromRGB=this.addCustomColor=this.restoreColor=this.saveColor=this.clickCancel=this.clickOk=this.resetHandlers=this.generate=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=null};
dhtmlXForm.prototype.items.combo={render:function(a,b){a._type="combo";a._enabled=!0;a._value=null;a._newValue=null;this.doAddLabel(a,b);this.doAddInput(a,b,"SELECT",null,!0,!0,"dhxlist_txt_select");this.doAttachEvents(a);this.doLoadOpts(a,b);a.childNodes[1].childNodes[0].opt_type=b.comboType||"";a._combo=new dhtmlXComboFromSelect(a.childNodes[1].childNodes[0]);a._combo._currentComboValue=a._combo.getSelectedValue();a._combo.DOMelem_input.id=b.uid;b.connector&&a._combo.loadXML(b.connector);b.filtering&&
a._combo.enableFilteringMode(!0);b.readonly==!0&&this.setReadonly(a,!0);b.style&&(a._combo.DOMelem_input.style.cssText+=b.style);return this},destruct:function(a){a._combo._currentComboValue=null;a._combo.destructor();a._combo=null;a._apiChange=null;this.d2(a);a=null},doOnChange:function(a){var b=a.DOMParent.parentNode.parentNode;if(!b._apiChange){a._newComboValue=a.getSelectedValue();if(a._newComboValue!=a._currentComboValue){if(b.checkEvent("onBeforeChange")&&b.callEvent("onBeforeChange",[b._idd,
a._currentComboValue,a._newComboValue])!==!0)return window.setTimeout(function(){a.setComboValue(a._currentComboValue)},1),!1;a._currentComboValue=a._newComboValue;b.callEvent("onChange",[b._idd,a._currentComboValue])}b._autoCheck()}},enable:function(a){if(String(a.className).search("disabled")>=0)a.className=String(a.className).replace(/disabled/gi,"");a._enabled=!0;a._combo.disable(!1)},disable:function(a){String(a.className).search("disabled")<0&&(a.className+=" disabled");a._enabled=!1;a._combo.disable(!0)},
getCombo:function(a){return a._combo},setValue:function(a,b){a._apiChange=!0;a._combo.setComboValue(b);a._combo._currentComboValue=a._combo.getSelectedValue();a._apiChange=!1},getValue:function(a){return a._combo.getSelectedValue()},setWidth:function(a,b){a.childNodes[1].childNodes[0].style.width=b+"px"},setReadonly:function(a,b){a._combo_ro=b;a._combo.readonly(a._combo_ro)},isReadonly:function(a){return a._combo_ro||!1}};
(function(){for(var a in{doAddLabel:1,doAddInput:1,doAttachEvents:1,doLoadOpts:1,doUnloadNestedLists:1,setText:1,getText:1})dhtmlXForm.prototype.items.combo[a]=dhtmlXForm.prototype.items.select[a]})();dhtmlXForm.prototype.items.combo.d2=dhtmlXForm.prototype.items.select.destruct;dhtmlXForm.prototype.getCombo=function(a){return this.doWithItem(a,"getCombo")};
dhtmlXForm.prototype.items.editor={editor:{},render:function(a,b){var c=!isNaN(b.rows);a._type="editor";a._enabled=!0;this.doAddLabel(a,b);this.doAddInput(a,b,"DIV",null,!0,!0,"dhxlist_item_template");a._value=b.value||"";a.childNodes[1].childNodes[0].className+=" dhxeditor_inside";var d=this;this.editor[a._idd]=new dhtmlXEditor(a.childNodes[1].childNodes[0]);this.editor[a._idd].setContent(a._value);this.editor[a._idd].attachEvent("onAccess",function(b,c){_dhxForm_doClick(document.body,"click");b==
"blur"&&d.doOnBlur(a,this);a.callEvent("onEditorAccess",[a._idd,b,c,this,a.getForm()])});this.editor[a._idd].attachEvent("onToolbarClick",function(b){a.callEvent("onEditorToolbarClick",[a._idd,b,this,a.getForm()])});a.childNodes[0].childNodes[0].removeAttribute("for");a.childNodes[0].childNodes[0].onclick=function(){d.editor[a._idd]._focus()};return this},doOnBlur:function(a,b){var c=b.getContent();if(a._value!=c)a.checkEvent("onBeforeChange")&&a.callEvent("onBeforeChange",[a._idd,a._value,c])!==
!0?b.setContent(a._value):(a._value=c,a.callEvent("onChange",[a._idd,c]))},setValue:function(a,b){if(a._value!=b)a._value=b,this.editor[a._idd].setContent(a._value)},getValue:function(a){a._value=this.editor[a._idd].getContent();return a._value},enable:function(a){this.editor[a._idd].setReadonly(!1);this.doEn(a)},disable:function(a){this.editor[a._idd].setReadonly(!0);this.doDis(a)},getEditor:function(a){return this.editor[a._idd]||null},destruct:function(a){a.childNodes[0].childNodes[0].onclick=
null;this.editor[a._idd].unload();this.editor[a._idd]=null;this.d2(a);a=null},setFocus:function(a){this.editor[a._idd]._focus()}};(function(){for(var a in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,setWidth:1})dhtmlXForm.prototype.items.editor[a]=dhtmlXForm.prototype.items.template[a]})();dhtmlXForm.prototype.items.editor.d2=dhtmlXForm.prototype.items.select.destruct;dhtmlXForm.prototype.items.editor.doEn=dhtmlXForm.prototype.items.select.enable;
dhtmlXForm.prototype.items.editor.doDis=dhtmlXForm.prototype.items.select.disable;dhtmlXForm.prototype.getEditor=function(a){return this.doWithItem(a,"getEditor")};
function dataProcessor(a){this.serverProcessor=a;this.action_param="!nativeeditor_status";this.object=null;this.updatedRows=[];this.autoUpdate=!0;this.updateMode="cell";this._tMode="GET";this.post_delim="_";this._waitMode=0;this._in_progress={};this._invalid={};this.mandatoryFields=[];this.messages=[];this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",clear:"font-weight:normal;text-decoration:none;"};
this.enableUTFencoding(!0);dhtmlxEventable(this);return this}
dataProcessor.prototype={setTransactionMode:function(a,b){this._tMode=a;this._tSend=b},escape:function(a){return this._utf?encodeURIComponent(a):escape(a)},enableUTFencoding:function(a){this._utf=convertStringToBoolean(a)},setDataColumns:function(a){this._columns=typeof a=="string"?a.split(","):a},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(a){this._endnm=convertStringToBoolean(a)},enablePartialDataSend:function(a){this._changed=convertStringToBoolean(a)},setUpdateMode:function(a,
b){this.autoUpdate=a=="cell";this.updateMode=a;this.dnd=b},ignore:function(a,b){this._silent_mode=!0;a.call(b||window);this._silent_mode=!1},setUpdated:function(a,b,c){if(!this._silent_mode){var d=this.findRow(a),c=c||"updated",e=this.obj.getUserData(a,this.action_param);e&&c=="updated"&&(c=e);b?(this.set_invalid(a,!1),this.updatedRows[d]=a,this.obj.setUserData(a,this.action_param,c),this._in_progress[a]&&(this._in_progress[a]="wait")):this.is_invalid(a)||(this.updatedRows.splice(d,1),this.obj.setUserData(a,
this.action_param,""));b||this._clearUpdateFlag(a);this.markRow(a,b,c);b&&this.autoUpdate&&this.sendData(a)}},_clearUpdateFlag:function(){},markRow:function(a,b,c){var d="",e=this.is_invalid(a);e&&(d=this.styles[e],b=!0);if(this.callEvent("onRowMark",[a,b,c,e])&&(d=this.styles[b?c:"clear"]+d,this.obj[this._methods[0]](a,d),e&&e.details)){d+=this.styles[e+"_cell"];for(var f=0;f<e.details.length;f++)if(e.details[f])this.obj[this._methods[1]](a,f,d)}},getState:function(a){return this.obj.getUserData(a,
this.action_param)},is_invalid:function(a){return this._invalid[a]},set_invalid:function(a,b,c){c&&(b={value:b,details:c,toString:function(){return this.value.toString()}});this._invalid[a]=b},checkBeforeUpdate:function(){return!0},sendData:function(a){if(!this._waitMode||!(this.obj.mytype=="tree"||this.obj._h2)){this.obj.editStop&&this.obj.editStop();if(typeof a=="undefined"||this._tSend)return this.sendAllData();if(this._in_progress[a])return!1;this.messages=[];if(!this.checkBeforeUpdate(a)&&this.callEvent("onValidationError",
[a,this.messages]))return!1;this._beforeSendData(this._getRowData(a),a)}},_beforeSendData:function(a,b){if(!this.callEvent("onBeforeUpdate",[b,this.getState(b),a]))return!1;this._sendData(a,b)},serialize:function(a,b){if(typeof a=="string")return a;if(typeof b!="undefined")return this.serialize_one(a,"");else{var c=[],d=[],e;for(e in a)a.hasOwnProperty(e)&&(c.push(this.serialize_one(a[e],e+this.post_delim)),d.push(e));c.push("ids="+this.escape(d.join(",")));return c.join("&")}},serialize_one:function(a,
b){if(typeof a=="string")return a;var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(this.escape((b||"")+d)+"="+this.escape(a[d]));return c.join("&")},_sendData:function(a,b){if(a){if(!this.callEvent("onBeforeDataSending",b?[b,this.getState(b),a]:[null,null,a]))return!1;b&&(this._in_progress[b]=(new Date).valueOf());var c=new dtmlXMLLoaderObject(this.afterUpdate,this,!0),d=this.serverProcessor+(this._user?getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,
"version")].join("&"):"");this._tMode!="POST"?c.loadXML(d+(d.indexOf("?")!=-1?"&":"?")+this.serialize(a,b)):c.loadXML(d,!0,this.serialize(a,b));this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var a=!0,b=0;b<this.updatedRows.length;b++)a&=this.checkBeforeUpdate(this.updatedRows[b]);if(!a&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());else for(b=0;b<this.updatedRows.length;b++)if(!this._in_progress[this.updatedRows[b]]&&
!this.is_invalid(this.updatedRows[b])&&(this._beforeSendData(this._getRowData(this.updatedRows[b]),this.updatedRows[b]),this._waitMode&&(this.obj.mytype=="tree"||this.obj._h2)))break}},_getAllData:function(){for(var a={},b=!1,c=0;c<this.updatedRows.length;c++){var d=this.updatedRows[c];!this._in_progress[d]&&!this.is_invalid(d)&&this.callEvent("onBeforeUpdate",[d,this.getState(d)])&&(a[d]=this._getRowData(d,d+this.post_delim),b=!0,this._in_progress[d]=(new Date).valueOf())}return b?a:null},setVerificator:function(a,
b){this.mandatoryFields[a]=b||function(a){return a!=""}},clearVerificator:function(a){this.mandatoryFields[a]=!1},findRow:function(a){for(var b=0,b=0;b<this.updatedRows.length;b++)if(a==this.updatedRows[b])break;return b},defineAction:function(a,b){if(!this._uActions)this._uActions=[];this._uActions[a]=b},afterUpdateCallback:function(a,b,c,d){var e=a,f=c!="error"&&c!="invalid";f||this.set_invalid(a,c);if(this._uActions&&this._uActions[c]&&!this._uActions[c](d))return delete this._in_progress[e];this._in_progress[e]!=
"wait"&&this.setUpdated(a,!1);var h=a;switch(c){case "inserted":case "insert":b!=a&&(this.obj[this._methods[2]](a,b),a=b);break;case "delete":case "deleted":return this.obj.setUserData(a,this.action_param,"true_deleted"),this.obj[this._methods[3]](a),delete this._in_progress[e],this.callEvent("onAfterUpdate",[a,c,b,d])}this._in_progress[e]!="wait"?(f&&this.obj.setUserData(a,this.action_param,""),delete this._in_progress[e]):(delete this._in_progress[e],this.setUpdated(b,!0,this.obj.getUserData(a,
this.action_param)));this.callEvent("onAfterUpdate",[a,c,b,d])},afterUpdate:function(a,b,c,d,e){e.getXMLTopNode("data");if(e.xmlDoc.responseXML){for(var f=e.doXPath("//data/action"),h=0;h<f.length;h++){var j=f[h],g=j.getAttribute("type"),i=j.getAttribute("sid"),k=j.getAttribute("tid");a.afterUpdateCallback(i,k,g,j)}a.finalizeUpdate()}},finalizeUpdate:function(){this._waitMode&&this._waitMode--;(this.obj.mytype=="tree"||this.obj._h2)&&this.updatedRows.length&&this.sendData();this.callEvent("onAfterUpdateFinish",
[]);this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(a){this.obj=a;this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(a){this.attachEvent("onAfterUpdate",a)},enableDebug:function(){},setOnBeforeUpdateHandler:function(a){this.attachEvent("onBeforeDataSending",a)},setAutoUpdate:function(a,b){a=a||2E3;this._user=b||(new Date).valueOf();this._need_update=!1;this._loader=null;this._update_busy=!1;this.attachEvent("onAfterUpdate",function(a,b,c,h){this.afterAutoUpdate(a,
b,c,h)});this.attachEvent("onFullSync",function(){this.fullSync()});var c=this;window.setInterval(function(){c.loadUpdate()},a)},afterAutoUpdate:function(a,b){return b=="collision"?(this._need_update=!0,!1):!0},fullSync:function(){if(this._need_update==!0)this._need_update=!1,this.loadUpdate();return!0},getUpdates:function(a,b){if(this._update_busy)return!1;else this._update_busy=!0;this._loader=this._loader||new dtmlXMLLoaderObject(!0);this._loader.async=!0;this._loader.waitCall=b;this._loader.loadXML(a)},
_v:function(a){return a.firstChild?a.firstChild.nodeValue:""},_a:function(a){for(var b=[],c=0;c<a.length;c++)b[c]=this._v(a[c]);return b},loadUpdate:function(){var a=this,b=this.obj.getUserData(0,"version"),c=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+b].join("&"),c=c.replace("editing=true&","");this.getUpdates(c,function(){var b=a._loader.doXPath("//userdata");a.obj.setUserData(0,"version",a._v(b[0]));var c=a._loader.doXPath("//update");if(c.length){a._silent_mode=
!0;for(var f=0;f<c.length;f++){var h=c[f].getAttribute("status"),j=c[f].getAttribute("id"),g=c[f].getAttribute("parent");switch(h){case "inserted":a.callEvent("insertCallback",[c[f],j,g]);break;case "updated":a.callEvent("updateCallback",[c[f],j,g]);break;case "deleted":a.callEvent("deleteCallback",[c[f],j,g])}}a._silent_mode=!1}a._update_busy=!1;a=null})}};window.dhx||(dhx={});dhx.version="3.0";dhx.codebase="./";dhx.name="Core";dhx.copy=function(a){var b=dhx.copy.W;b.prototype=a;return new b};
dhx.copy.W=function(){};dhx.extend=function(a,b,c){a.r&&(a=a.r[0]);for(var d in b)if(!a[d]||c)a[d]=b[d];b.defaults&&dhx.extend(a.defaults,b.defaults);b.c&&b.c.call(a);return a};dhx.fullCopy=function(a){var b=a.length?[]:{};arguments.length>1&&(b=arguments[0],a=arguments[1]);for(var c in a)typeof a[c]=="object"?(b[c]=a[c].length?[]:{},dhx.fullCopy(b[c],a[c])):b[c]=a[c];return b};dhx.single=function(a){var b=null,c=function(){b||(b=new a({}));b.ba&&b.ba.apply(b,arguments);return b};return c};
dhx.protoUI=function(){var a=arguments,b=a[0].name,c=function(d){if(a){for(var e=[a[0]],f=1;f<a.length;f++)e[f]=a[f],e[f].r&&(e[f]=e[f].call(dhx)),e[f].prototype&&e[f].prototype.name&&(dhx.ui[e[f].prototype.name]=e[f]);dhx.ui[b]=dhx.proto.apply(dhx,e);if(c.m)for(f=0;f<c.m.length;f++)dhx.Type(dhx.ui[b],c.m[f]);c=a=null}return this!=dhx?new dhx.ui[b](d):dhx.ui[b]};c.r=arguments;return dhx.ui[b]=c};
dhx.proto=function(){for(var a=arguments,b=a[0],c=!!b.c,d=[],e=a.length-1;e>0;e--){if(typeof a[e]=="function")a[e]=a[e].prototype;a[e].c&&d.push(a[e].c);if(a[e].defaults){var f=a[e].defaults;if(!b.defaults)b.defaults={};for(var h in f)dhx.isNotDefined(b.defaults[h])&&(b.defaults[h]=f[h])}if(a[e].type&&b.type)for(h in a[e].type)b.type[h]||(b.type[h]=a[e].type[h]);for(var j in a[e])b[j]||(b[j]=a[e][j])}c&&d.push(b.c);b.c=function(){for(var a=0;a<d.length;a++)d[a].apply(this,arguments)};var g=function(a){this.w=
[];this.c(a);this.O&&this.O(a,this.defaults);for(a=0;a<this.w.length;a++)this.w[a].call(this)};g.prototype=b;b=a=null;return g};dhx.bind=function(a,b){return function(){return a.apply(b,arguments)}};dhx.require=function(a){dhx.L[a]||(dhx.exec(dhx.ajax().sync().get(dhx.codebase+a).responseText),dhx.L[a]=!0)};dhx.L={};dhx.exec=function(a){window.execScript?window.execScript(a):window.eval(a)};dhx.wrap=function(a,b){return!a?b:function(){var c=a.apply(this,arguments);b.apply(this,arguments);return c}};
dhx.methodPush=function(a,b){return function(){var c=!1;return c=a[b].apply(a,arguments)}};dhx.isNotDefined=function(a){return typeof a=="undefined"};dhx.delay=function(a,b,c,d){return window.setTimeout(function(){var d=a.apply(b,c||[]);a=b=c=null;return d},d||1)};dhx.uid=function(){if(!this.G)this.G=(new Date).valueOf();this.G++;return this.G};dhx.toNode=function(a){return typeof a=="string"?document.getElementById(a):a};dhx.toArray=function(a){return dhx.extend(a||[],dhx.PowerArray,!0)};
dhx.toFunctor=function(a){return typeof a=="string"?eval(a):a};dhx.g={};dhx.event=function(a,b,c,d){var a=dhx.toNode(a),e=dhx.uid();d&&(c=dhx.bind(c,d));dhx.g[e]=[a,b,c];a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c);return e};dhx.eventRemove=function(a){if(a){var b=dhx.g[a];b[0].removeEventListener?b[0].removeEventListener(b[1],b[2],!1):b[0].detachEvent&&b[0].detachEvent("on"+b[1],b[2]);delete this.g[a]}};
dhx.EventSystem={c:function(){this.g={};this.n={};this.C={}},blockEvent:function(){this.g.I=!0},unblockEvent:function(){this.g.I=!1},mapEvent:function(a){dhx.extend(this.C,a,!0)},callEvent:function(a,b){if(this.g.I)return!0;var a=a.toLowerCase(),c=this.g[a.toLowerCase()],d=!0;if(c)for(var e=0;e<c.length;e++)if(c[e].apply(this,b||[])===!1)d=!1;this.C[a]&&!this.C[a].callEvent(a,b)&&(d=!1);return d},attachEvent:function(a,b,c){var a=a.toLowerCase(),c=c||dhx.uid(),b=dhx.toFunctor(b),d=this.g[a]||dhx.toArray();
d.push(b);this.g[a]=d;this.n[c]={f:b,t:a};return c},detachEvent:function(a){if(this.n[a]){var b=this.n[a].t,c=this.n[a].f,b=this.g[b];b.remove(c);delete this.n[a]}},hasEvent:function(a){a=a.toLowerCase();return this.g[a]?!0:!1}};dhx.extend(dhx,dhx.EventSystem);
dhx.PowerArray={removeAt:function(a,b){a>=0&&this.splice(a,b||1)},remove:function(a){this.removeAt(this.find(a))},insertAt:function(a,b){if(!b&&b!==0)this.push(a);else{var c=this.splice(b,this.length-b);this[b]=a;this.push.apply(this,c)}},find:function(a){for(var b=0;b<this.length;b++)if(a==this[b])return b;return-1},each:function(a,b){for(var c=0;c<this.length;c++)a.call(b||this,this[c])},map:function(a,b){for(var c=0;c<this.length;c++)this[c]=a.call(b||this,this[c]);return this}};dhx.env={};
(function(){if(navigator.userAgent.indexOf("Mobile")!=-1)dhx.env.mobile=!0;if(dhx.env.mobile||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1)dhx.env.touch=!0;navigator.userAgent.indexOf("Opera")!=-1?dhx.env.isOpera=!0:(dhx.env.isIE=!!document.all,dhx.env.isFF=!document.all,dhx.env.isWebKit=navigator.userAgent.indexOf("KHTML")!=-1,dhx.env.isSafari=dhx.env.isWebKit&&navigator.userAgent.indexOf("Mac")!=-1);if(navigator.userAgent.toLowerCase().indexOf("android")!=
-1)dhx.env.isAndroid=!0;dhx.env.transform=!1;dhx.env.transition=!1;for(var a={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","oTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","oTransition","msTransition"]},b=document.createElement("DIV"),c=0;c<a.names.length;c++)for(var d=a[a.names[c]],e=0;e<d.length;e++)if(typeof b.style[d[e]]!="undefined"){dhx.env[a.names[c]]=d[e];break}b.style[dhx.env.transform]="translate3d(0,0,0)";
dhx.env.translate=b.style[dhx.env.transform]?"translate3d":"translate";dhx.env.transformCSSPrefix=function(){var a;dhx.env.isOpera?a="-o-":(a="",dhx.env.isFF&&(a="-Moz-"),dhx.env.isWebKit&&(a="-webkit-"),dhx.env.isIE&&(a="-ms-"));return a}();dhx.env.transformPrefix=dhx.env.transformCSSPrefix.replace(/-/gi,"");dhx.env.transitionEnd=dhx.env.transformCSSPrefix=="-Moz-"?"transitionend":dhx.env.transformPrefix+"TransitionEnd"})();
dhx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}();
dhx.html={create:function(a,b,c){var b=b||{},d=document.createElement(a),e;for(e in b)d.setAttribute(e,b[e]);if(b.style)d.style.cssText=b.style;if(b["class"])d.className=b["class"];if(c)d.innerHTML=c;return d},getValue:function(a){a=dhx.toNode(a);return!a?"":dhx.isNotDefined(a.value)?a.innerHTML:a.value},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else a&&a.parentNode&&a.parentNode.removeChild(a)},insertBefore:function(a,b,c){a&&(b&&b.parentNode?b.parentNode.insertBefore(a,
b):c.appendChild(a))},locate:function(a,b){if(a.tagName)var c=a;else a=a||event,c=a.target||a.srcElement;for(;c;){if(c.getAttribute){var d=c.getAttribute(b);if(d)return d}c=c.parentNode}return null},offset:function(a){if(a.getBoundingClientRect){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,h=d.clientTop||c.clientTop||0,j=d.clientLeft||c.clientLeft||0,g=b.top+e-h,i=b.left+f-
j;return{y:Math.round(g),x:Math.round(i)}}else{for(i=g=0;a;)g+=parseInt(a.offsetTop,10),i+=parseInt(a.offsetLeft,10),a=a.offsetParent;return{y:g,x:i}}},pos:function(a){a=a||event;if(a.pageX||a.pageY)return{x:a.pageX,y:a.pageY};var b=dhx.env.isIE&&document.compatMode!="BackCompat"?document.documentElement:document.body;return{x:a.clientX+b.scrollLeft-b.clientLeft,y:a.clientY+b.scrollTop-b.clientTop}},preventEvent:function(a){a&&a.preventDefault&&a.preventDefault();return dhx.html.stopEvent(a)},stopEvent:function(a){(a||
event).cancelBubble=!0;return!1},addCss:function(a,b){a.className+=" "+b},removeCss:function(a,b){a.className=a.className.replace(RegExp(" "+b,"g"),"")}};dhx.ready=function(a){this.aa?a.call():this.v.push(a)};dhx.v=[];
(function(){var a=document.getElementsByTagName("SCRIPT");if(a.length)a=(a[a.length-1].getAttribute("src")||"").split("/"),a.splice(a.length-1,1),dhx.codebase=a.slice(0,a.length).join("/")+"/";dhx.event(window,"load",function(){dhx.callEvent("onReady",[]);dhx.delay(function(){dhx.aa=!0;for(var a=0;a<dhx.v.length;a++)dhx.v[a].call();dhx.v=[]})})})();dhx.ui={};dhx.ui.zIndex=function(){return dhx.ui.ea++};dhx.ui.ea=1;
dhx.ready(function(){dhx.event(document.body,"click",function(a){dhx.callEvent("onClick",[a||event])})});dhx.ajax=function(a,b,c){if(arguments.length!==0){var d=new dhx.ajax;if(c)d.master=c;d.get(a,null,b)}return!this.getXHR?new dhx.ajax:this};
dhx.ajax.prototype={getXHR:function(){return dhx.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(a,b,c){var d=this.getXHR();typeof c=="function"&&(c=[c]);if(typeof b=="object"){var e=[],f;for(f in b){var h=b[f];if(h===null||h===dhx.undefined)h="";e.push(f+"="+encodeURIComponent(h))}b=e.join("&")}b&&!this.post&&(a=a+(a.indexOf("?")!=-1?"&":"?")+b,b=null);d.open(this.post?"POST":"GET",a,!this.da);this.post&&d.setRequestHeader("Content-type","application/x-www-form-urlencoded");
var j=this;d.onreadystatechange=function(){if(!d.readyState||d.readyState==4){if(c&&j)for(var a=0;a<c.length;a++)c[a]&&c[a].call(j.master||j,d.responseText,d.responseXML,d);c=j=j.master=null}};d.send(b||null);return d},get:function(a,b,c){this.post=!1;return this.send(a,b,c)},post:function(a,b,c){this.post=!0;return this.send(a,b,c)},sync:function(){this.da=!0;return this}};
dhx.AtomDataLoader={c:function(a){this.data={};if(a)this.a.datatype=a.datatype||"json",this.w.push(this.X)},X:function(){this.P=!0;this.a.url&&this.url_setter(this.a.url);this.a.data&&this.data_setter(this.a.data)},url_setter:function(a){if(!this.P)return a;this.load(a,this.a.datatype);return a},data_setter:function(a){if(!this.P)return a;this.parse(a,this.a.datatype);return!0},load:function(a,b,c){this.callEvent("onXLS",[]);typeof b=="string"?(this.data.driver=dhx.DataDriver[b],b=c):this.data.driver=
dhx.DataDriver.json;dhx.ajax(a,[this.D,b],this)},parse:function(a,b){this.callEvent("onXLS",[]);this.data.driver=dhx.DataDriver[b||"json"];this.D(a,null)},D:function(a,b){var c=this.data.driver,d=c.getRecords(c.toObject(a,b))[0];this.data=c?c.getDetails(d):a;this.callEvent("onXLE",[])},q:function(a){if(!this.a.dataFeed||this.B||!a)return!0;var b=this.a.dataFeed,b=b+(b.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.callEvent("onXLS",[]);dhx.ajax(b,function(a){this.B=!0;
this.setValues(dhx.DataDriver.json.toObject(a)[0]);this.B=!1;this.callEvent("onXLE",[])},this);return!1}};dhx.DataDriver={};dhx.DataDriver.json={toObject:function(a){a||(a="[]");if(typeof a=="string")eval("dhx.temp="+a),a=dhx.temp;if(a.data){var b=a.data;b.pos=a.pos;b.total_count=a.total_count;a=b}return a},getRecords:function(a){return a&&!(a instanceof Array)?[a]:a},getDetails:function(a){return a},getInfo:function(a){return{k:a.total_count||0,i:a.pos||0}}};
dhx.DataDriver.json_ext={toObject:function(a){a||(a="[]");if(typeof a=="string"){var b;eval("temp="+a);dhx.temp=[];for(var c=b.header,a=0;a<b.data.length;a++){for(var d={},e=0;e<c.length;e++)typeof b.data[a][e]!="undefined"&&(d[c[e]]=b.data[a][e]);dhx.temp.push(d)}return dhx.temp}return a},getRecords:function(a){return a&&!(a instanceof Array)?[a]:a},getDetails:function(a){return a},getInfo:function(a){return{k:a.total_count||0,i:a.pos||0}}};
dhx.DataDriver.html={toObject:function(a){if(typeof a=="string"){var b=null;a.indexOf("<")==-1&&(b=dhx.toNode(a));if(!b)b=document.createElement("DIV"),b.innerHTML=a;return b.getElementsByTagName(this.tag)}return a},getRecords:function(a){return a.tagName?a.childNodes:a},getDetails:function(a){return dhx.DataDriver.xml.tagToObject(a)},getInfo:function(){return{k:0,i:0}},tag:"LI"};
dhx.DataDriver.jsarray={toObject:function(a){return typeof a=="string"?(eval("dhx.temp="+a),dhx.temp):a},getRecords:function(a){return a},getDetails:function(a){for(var b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{k:0,i:0}}};
dhx.DataDriver.csv={toObject:function(a){return a},getRecords:function(a){return a.split(this.row)},getDetails:function(a){for(var a=this.stringToArray(a),b={},c=0;c<a.length;c++)b["data"+c]=a[c];return b},getInfo:function(){return{k:0,i:0}},stringToArray:function(a){for(var a=a.split(this.cell),b=0;b<a.length;b++)a[b]=a[b].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return a},row:"\n",cell:","};
dhx.DataDriver.xml={toObject:function(a,b){return b&&(b=this.checkResponse(a,b))?b:typeof a=="string"?this.fromString(a):a},getRecords:function(a){return this.xpath(a,this.records)},records:"/*/item",getDetails:function(a){return this.tagToObject(a,{})},getInfo:function(a){return{k:a.documentElement.getAttribute("total_count")||0,i:a.documentElement.getAttribute("pos")||0}},xpath:function(a,b){if(window.XPathResult){var c=a;if(a.nodeName.indexOf("document")==-1)a=a.ownerDocument;for(var d=[],e=a.evaluate(b,
c,null,XPathResult.ANY_TYPE,null),a=e.iterateNext();a;)d.push(a),a=e.iterateNext();return d}else{d=!0;try{typeof a.selectNodes=="undefined"&&(d=!1)}catch(f){}return d?a.selectNodes(b):(d=b.split("/").pop(),a.getElementsByTagName(d))}},tagToObject:function(a,b){var b=b||{},c=!1,d=a.attributes;if(d&&d.length){for(var e=0;e<d.length;e++)b[d[e].name]=d[e].value;c=!0}d=a.childNodes;for(e=0;e<d.length;e++)if(d[e].nodeType==1){var f=d[e].tagName;typeof b[f]!="undefined"?(b[f]instanceof Array||(b[f]=[b[f]]),
b[f].push(this.tagToObject(d[e],{}))):b[d[e].tagName]=this.tagToObject(d[e],{});c=!0}if(!c)return this.nodeValue(a);b.value=this.nodeValue(a);return b},nodeValue:function(a){return a.firstChild?a.firstChild.data:""},fromString:function(a){if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");if(window.ActiveXObject){var b=new ActiveXObject("Microsoft.xmlDOM");b.loadXML(a);return b}},checkResponse:function(a,b){if(b&&b.firstChild&&b.firstChild.tagName!="parsererror")return b;if(a=
this.fromString(a.replace(/^[\s]+/,"")))return a}};
dhx.DataLoader=dhx.proto({c:function(a){a=a||"";name="DataStore";this.data=a.datastore||new dhx.DataStore;this.F=this.data.attachEvent("onStoreLoad",dhx.bind(this.V,this))},load:function(a){dhx.AtomDataLoader.load.apply(this,arguments);if(!this.data.feed)this.data.url=a,this.data.feed=function(b,c){if(this.u)return this.u=[b,c];else this.u=!0;this.load(a+(a.indexOf("?")==-1?"?":"&")+"start="+b+"&count="+c,function(){var a=this.u;this.u=!1;typeof a=="object"?this.data.feed.apply(this,a):this.showItem&&
this.dataCount()>b+1&&this.showItem(this.idByIndex(b+1))})}},loadNext:function(a,b){this.data.feed&&this.data.feed.call(this,b||this.dataCount(),a)},D:function(a,b){this.data.$(this.data.driver.toObject(a,b));this.callEvent("onXLE",[]);if(this.F)this.data.detachEvent(this.F),this.F=null},scheme_setter:function(a){this.data.scheme(a)},dataFeed_setter:function(a){this.data.attachEvent("onBeforeFilter",dhx.bind(function(a,c){if(this.a.dataFeed){var d={};if(a||d){if(typeof a=="function"){if(!c)return;
a(c,d)}else d={text:c};this.clearAll();var a=this.a.dataFeed,e=[],f;for(f in d)e.push("dhx_filter["+f+"]="+encodeURIComponent(d[f]));this.load(a+(a.indexOf("?")<0?"?":"&")+e.join("&"),this.a.datatype);return!1}}},this));return a},V:function(){if(this.a.ready){var a=dhx.toFunctor(this.a.ready);a&&a.call&&a.apply(this,arguments)}}},dhx.AtomDataLoader).prototype;dhx.DataStore=function(){this.name="DataStore";dhx.extend(this,dhx.EventSystem);this.setDriver("xml");this.pull={};this.order=dhx.toArray()};
dhx.DataStore.prototype={setDriver:function(a){this.driver=dhx.DataDriver[a]},$:function(a){this.callEvent("onParse",[this.driver,a]);this.d&&this.filter();var b=this.driver.getInfo(a),c=this.driver.getRecords(a),d=(b.i||0)*1;if(d===0&&this.order[0])d=this.order.length;for(var e=0,f=0;f<c.length;f++){var h=this.driver.getDetails(c[f]),j=this.id(h);this.pull[j]||(this.order[e+d]=j,e++);this.pull[j]=h;this.extraParser&&this.extraParser(h);this.e&&(this.e.$init?this.e.$init(h):this.e.$update&&this.e.$update(h))}if(!this.order[b.k-
1])this.order[b.k-1]=dhx.undefined;this.callEvent("onStoreLoad",[this.driver,a]);this.refresh()},id:function(a){return a.id||(a.id=dhx.uid())},changeId:function(a,b){this.pull[b]=this.pull[a];this.pull[b].id=b;this.order[this.order.find(a)]=b;this.d&&(this.d[this.d.find(a)]=b);this.callEvent("onIdChange",[a,b]);this.ca&&this.ca(a,b);delete this.pull[a]},item:function(a){return this.pull[a]},update:function(a,b){this.e&&this.e.$update&&this.e.$update(b);if(this.callEvent("onBeforeUpdate",[a,b])===
!1)return!1;this.pull[a]=b;this.refresh(a)},refresh:function(a){this.R||(a?this.callEvent("onStoreUpdated",[a,this.pull[a],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(a,b){this.R=!0;a.call(b||this);this.R=!1},getRange:function(a,b){a=a?this.indexById(a):this.startOffset||0;b?b=this.indexById(b):(b=Math.min(this.endOffset||Infinity,this.dataCount()-1),b<0&&(b=0));if(a>b)var c=b,b=a,a=c;return this.getIndexRange(a,b)},getIndexRange:function(a,b){for(var b=Math.min(b||
Infinity,this.dataCount()-1),c=dhx.toArray(),a=a||0;a<=b;a++)c.push(this.item(this.order[a]));return c},dataCount:function(){return this.order.length},exists:function(a){return!!this.pull[a]},move:function(a,b){if(!(a<0||b<0)){var c=this.idByIndex(a),d=this.item(c);this.order.removeAt(a);this.order.insertAt(c,Math.min(this.order.length,b));this.callEvent("onStoreUpdated",[c,d,"move"])}},scheme:function(a){this.e=a},sync:function(a,b,c){typeof b!="function"&&(c=b,b=null);if(dhx.debug_bind)this.debug_sync_master=
a;if(a.name!="DataStore")a=a.data;var d=dhx.bind(function(){this.order=dhx.toArray([].concat(a.order));this.d=null;this.pull=a.pull;b&&this.silent(b);this.M&&this.M();c?c=!1:this.refresh()},this);a.attachEvent("onStoreUpdated",d);d()},add:function(a,b){if(this.e){var a=a||{},c;for(c in this.e)a[c]=a[c]||this.e[c];this.e.$init?this.e.$init(a):this.e.$update&&this.e.$update(a)}c=this.id(a);var d=this.dataCount();if(dhx.isNotDefined(b)||b<0)b=d;b>d&&(b=Math.min(this.order.length,b));if(this.callEvent("onBeforeAdd",
[c,a,b])===!1)return!1;if(this.exists(c))return null;this.pull[c]=a;this.order.insertAt(c,b);if(this.d){var e=this.d.length;!b&&this.order.length&&(e=0);this.d.insertAt(c,e)}this.callEvent("onafterAdd",[c,b]);this.callEvent("onStoreUpdated",[c,a,"add"]);return c},remove:function(a){if(a instanceof Array)for(var b=0;b<a.length;b++)this.remove(a[b]);else{if(this.callEvent("onBeforeDelete",[a])===!1)return!1;if(!this.exists(a))return null;b=this.item(a);this.order.remove(a);this.d&&this.d.remove(a);
delete this.pull[a];this.callEvent("onafterdelete",[a]);this.callEvent("onStoreUpdated",[a,b,"delete"])}},clearAll:function(){this.pull={};this.order=dhx.toArray();this.d=null;this.callEvent("onClearAll",[]);this.refresh()},idByIndex:function(a){return this.order[a]},indexById:function(a){return a=this.order.find(a)},next:function(a,b){return this.order[this.indexById(a)+(b||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(a,b){return this.order[this.indexById(a)-
(b||1)]},sort:function(a,b,c){var d=a;typeof a=="function"?d={as:a,dir:b}:typeof a=="string"&&(d={by:a,dir:b,as:c});var e=[d.by,d.dir,d.as];if(this.callEvent("onbeforesort",e)){if(this.order.length){var f=dhx.sort.create(d),h=this.getRange(this.first(),this.last());h.sort(f);this.order=h.map(function(a){return this.id(a)},this)}this.refresh();this.callEvent("onaftersort",e)}},filter:function(a,b,c){if(this.callEvent("onBeforeFilter",[a,b])){if(this.d&&!c)this.order=this.d,delete this.d;if(this.order.length){if(a){var d=
a,b=b||"";typeof a=="string"&&(a=dhx.Template(a),b=b.toString().toLowerCase(),d=function(b,c){return a(b).toLowerCase().indexOf(c)!=-1});for(var e=dhx.toArray(),f=0;f<this.order.length;f++){var h=this.order[f];d(this.item(h),b)&&e.push(h)}if(!c)this.d=this.order;this.order=e}this.refresh();this.callEvent("onAfterFilter",[])}}},each:function(a,b){for(var c=0;c<this.order.length;c++)a.call(b||this,this.item(this.order[c]))},provideApi:function(a,b){this.debug_bind_master=a;b&&this.mapEvent({onbeforesort:a,
onaftersort:a,onbeforeadd:a,onafteradd:a,onbeforedelete:a,onafterdelete:a,onbeforeupdate:a});for(var c="sort,add,remove,exists,idByIndex,indexById,item,update,refresh,dataCount,filter,next,previous,clearAll,first,last,serialize,sync".split(","),d=0;d<c.length;d++)a[c[d]]=dhx.methodPush(this,c[d])},serialize:function(){for(var a=this.order,b=[],c=0;c<a.length;c++)b.push(this.pull[a[c]]);return b}};
dhx.sort={create:function(a){return dhx.sort.dir(a.dir,dhx.sort.by(a.by,a.as))},as:{"int":function(a,b){a*=1;b*=1;return a>b?1:a<b?-1:0},string_strict:function(a,b){a=a.toString();b=b.toString();return a>b?1:a<b?-1:0},string:function(a,b){a=a.toString().toLowerCase();b=b.toString().toLowerCase();return a>b?1:a<b?-1:0}},by:function(a,b){if(!a)return b;typeof b!="function"&&(b=dhx.sort.as[b||"string"]);a=dhx.Template(a);return function(c,d){return b(a(c),a(d))}},dir:function(a,b){return a=="asc"?b:
function(a,d){return b(a,d)*-1}}};
(function(){var a={};dhx.Template=function(b){if(typeof b=="function")return b;if(a[b])return a[b];b=(b||"").toString();if(b.indexOf("->")!=-1)switch(b=b.split("->"),b[0]){case "html":b=dhx.html.getValue(b[1]);break;case "http":b=(new dhx.ajax).sync().get(b[1],{uid:dhx.uid()}).responseText}b=(b||"").toString();b=b.replace(/(\r\n|\n)/g,"\\n");b=b.replace(/(\")/g,'\\"');b=b.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"');b=b.replace(/\{common\.([^}\(]*)\}/g,"\"+(common.$1||'')+\"");
b=b.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1(obj,common):"")+"');b=b.replace(/\{obj\.([^}]*)\}/g,"\"+(obj.$1||'')+\"");b=b.replace(/#([$a-z0-9_\[\]]+)#/gi,"\"+(obj.$1||'')+\"");b=b.replace(/\{obj\}/g,'"+obj+"');b=b.replace(/\{-obj/g,"{obj");b=b.replace(/\{-common/g,"{common");b='return "'+b+'";';try{Function("obj","common",b)}catch(c){}return a[b]=Function("obj","common",b)};dhx.Template.empty=function(){return""};dhx.Template.bind=function(a){return dhx.bind(dhx.Template(a),
this)};dhx.Type=function(a,c){if(a.r){if(!a.m)a.m=[];a.m.push(c)}else{if(typeof a=="function")a=a.prototype;if(!a.types)a.types={"default":a.type},a.type.name="default";var d=c.name,e=a.type;d&&(e=a.types[d]=dhx.copy(a.type));for(var f in c)e[f]=f.indexOf("template")===0?dhx.Template(c[f]):c[f];return d}}})();
dhx.Settings={c:function(){this.a=this.config={}},define:function(a,b){return typeof a=="object"?this.N(a):this.J(a,b)},J:function(a,b){var c=this[a+"_setter"];return this.a[a]=c?c.call(this,b,a):b},N:function(a){if(a)for(var b in a)this.J(b,a[b])},O:function(a,b){var c={};b&&(c=dhx.extend(c,b));typeof a=="object"&&!a.tagName&&dhx.extend(c,a,!0);this.N(c)},Y:function(a,b){for(var c in b)switch(typeof a[c]){case "object":a[c]=this.Y(a[c]||{},b[c]);break;case "undefined":a[c]=b[c]}return a}};
dhx.BaseBind={bind:function(a,b,c){typeof a=="string"&&(a=dhx.ui.get(a));a.b&&a.b();this.b&&this.b();a.getBindData||dhx.extend(a,dhx.BindSource);if(!this.T){var d=this.render;if(this.filter){var e=this.a.id;this.data.M=function(){a.p[e]=!1}}this.render=function(){if(!this.K)return this.K=!0,this.callEvent("onBindRequest"),this.K=!1,d.call(this)};if(this.getValue||this.getValues)this.save=function(){this.validate&&!this.validate()||a.setBindData(this.getValue?this.getValue:this.getValues(),this.a.id)};
this.T=!0}a.addBind(this.a.id,b,c);this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){a.getBindData(this.a.id)});this.isVisible(this.a.id)&&this.refresh()}};
dhx.BindSource={c:function(){this.o={};this.p={};this.A={};this.U(this)},setBindData:function(a,b){b&&(this.A[b]=!0);if(this.setValue)this.setValue(a);else if(this.setValues)this.setValues(a);else{var c=this.getCursor();c&&(a=dhx.extend(this.item(c),a,!0),this.update(c,a))}this.callEvent("onBindUpdate",[a,b]);this.save&&this.save();b&&(this.A[b]=!1)},getBindData:function(a,b){if(!this.p[a]){var c=dhx.ui.get(a);c.isVisible(c.a.id)&&(this.p[a]=!0,this.z(c,this.o[a][0],this.o[a][1]),b&&c.filter&&c.refresh())}},
addBind:function(a,b,c){this.o[a]=[b,c]},U:function(a){a.filter?dhx.extend(this,dhx.CollectionBind):a.setValue?dhx.extend(this,dhx.ValueBind):dhx.extend(this,dhx.RecordBind)},l:function(){for(var a in this.o)this.A[a]||(this.p[a]=!1,this.getBindData(a,!0))},H:function(a,b,c){a.setValue?a.setValue(c?c[b]:c):a.filter?a.data.silent(function(){this.filter(b,c)}):!c&&a.clear?a.clear():a.q(c)&&a.setValues(dhx.copy(c))}};
dhx.DataValue=dhx.proto({name:"DataValue",isVisible:function(){return!0},c:function(a){a=(this.data=a)&&a.id?a.id:dhx.uid();this.a={id:a};dhx.ui.views[a]=this},setValue:function(a){this.data=a;this.callEvent("onChange",[a])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind);
dhx.DataRecord=dhx.proto({name:"DataRecord",isVisible:function(){return!0},c:function(a){this.data=a||{};a=a&&a.id?a.id:dhx.uid();this.a={id:a};dhx.ui.views[a]=this},getValues:function(){return this.data},setValues:function(a){this.data=a;this.callEvent("onChange",[a])},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind);
dhx.DataCollection=dhx.proto({name:"DataCollection",isVisible:function(){return!this.data.order.length&&!this.data.d&&!this.a.dataFeed?!1:!0},c:function(a){this.data.provideApi(this,!0);a=a&&a.id?a.id:dhx.uid();this.a.id=a;dhx.ui.views[a]=this;this.data.attachEvent("onStoreLoad",dhx.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},dhx.EventSystem,dhx.DataLoader,dhx.BaseBind,dhx.Settings);
dhx.ValueBind={c:function(){this.attachEvent("onChange",this.l)},z:function(a,b,c){var d=this.getValue()||"";c&&(d=c(d));if(a.setValue)a.setValue(d);else if(a.filter)a.data.silent(function(){this.filter(b,d)});else{var e={};e[b]=d;a.q(d)&&a.setValues(e)}}};dhx.RecordBind={c:function(){this.attachEvent("onChange",this.l)},z:function(a,b){var c=this.getValues()||null;this.H(a,b,c)}};
dhx.CollectionBind={c:function(){this.h=null;this.attachEvent("onSelectChange",function(){this.setCursor(this.getSelected())});this.attachEvent("onAfterCursorChange",this.l);this.data.attachEvent("onStoreUpdated",dhx.bind(function(a){a&&a==this.getCursor()&&this.l()},this));this.data.attachEvent("onClearAll",dhx.bind(function(){this.h=null},this));this.data.attachEvent("onIdChange",dhx.bind(function(a,b){if(this.h==a)this.h=b},this))},setCursor:function(a){if(a!=this.h&&this.item(a))this.callEvent("onBeforeCursorChange",
[this.h]),this.h=a,this.callEvent("onAfterCursorChange",[a])},getCursor:function(){return this.h},z:function(a,b){var c=this.item(this.getCursor())||null;this.H(a,b,c)}};if(!dhx.ui.views)dhx.ui.views={},dhx.ui.get=function(a){return a.a?a:dhx.ui.views[a]};
dhtmlXDataStore=function(a){var a=new dhx.DataCollection(a),b="_dp_init";a[b]=function(a){var b="_methods";a[b]=["dummy","dummy","changeId","dummy"];this.data.Z={add:"inserted",update:"updated","delete":"deleted"};this.data.attachEvent("onStoreUpdated",function(b,d,h){b&&!a.Q&&a.setUpdated(b,!0,this.Z[h])});b="_getRowData";a[b]=function(a){var b=this.obj.data.item(a),a={id:a,"!nativeeditor_status":this.obj.getUserData(a)};if(b)for(var c in b)c.indexOf("_")!==0&&(a[c]=b[c]);return a};this.changeId=
function(b,d){this.data.changeId(b,d);a.Q=!0;this.data.callEvent("onStoreUpdated",[d,this.item(d),"update"]);a.Q=!1};b="_clearUpdateFlag";a[b]=function(){};this.S={}};a.dummy=function(){};a.setUserData=function(a,b,e){this.S[a]=e};a.getUserData=function(a){return this.S[a]};return a};
if(window.dhtmlXDataView)dhtmlXDataView.prototype.b=function(){this.isVisible=function(){return!this.data.order.length&&!this.data.d&&!this.a.dataFeed?!1:!0};if(!this.a.id)this.a.id=dhx.uid();dhx.ui.views[this.a.id]=this};if(window.dhtmlXChart)dhtmlXChart.prototype.b=function(){this.isVisible=function(){return!this.data.order.length&&!this.data.ga&&!this.a.dataFeed?!1:!0};if(!this.a.id)this.a.id=dhx.uid();dhx.ui.views[this.a.id]=this};
dhx.BaseBind.legacyBind=function(){return dhx.BaseBind.bind.apply(this,arguments)};dhx.BaseBind.legacySync=function(a){this.b&&this.b();a.b&&a.b();this.attachEvent("onAfterEditStop",function(a){this.save(a);return!0});this.save=function(b){b||(b=this.getCursor());var c=this.item(b),d=a.item(b),e;for(e in c)e.indexOf("$")!==0&&(d[e]=c[e]);a.refresh(b)};return this.data.sync.apply(this.data,arguments)};
if(window.dhtmlXForm)dhtmlXForm.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXForm.prototype.b=function(){if(dhx.isNotDefined(this.a))this.a={id:dhx.uid(),dataFeed:this.j},dhx.ui.views[this.a.id]=this},dhtmlXForm.prototype.q=function(a){if(!this.a.dataFeed||this.B||!a)return!0;var b=this.a.dataFeed,b=b+(b.indexOf("?")==-1?"?":"&")+"action=get&id="+encodeURIComponent(a.id||a);this.load(b);return!1},dhtmlXForm.prototype.setValues=dhtmlXForm.prototype.setFormData,dhtmlXForm.prototype.getValues=
function(){return this.getFormData(!1,!0)},dhtmlXForm.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXForm.prototype.refresh=dhtmlXForm.prototype.isVisible=function(){return!0};
if(window.dhtmlXCombo)dhtmlXCombo.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXCombo.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXCombo.prototype.sync=function(a){this.b&&this.b();a.b&&a.b();var b=this,c=function(){b.clearAll();b.addOption(this.serialize())};a.data.attachEvent("onStoreUpdated",function(){c.call(this)});a.data.attachEvent("onIdChange",function(a,c){b.changeOptionId(a,c)});c.call(a)},dhtmlXCombo.prototype.b=function(){if(dhx.isNotDefined(this.a))this.a=
{id:dhx.uid(),dataFeed:this.j},dhx.ui.views[this.a.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onChange",function(){this.callEvent("onSelectChange",[this.getSelectedValue()])}),this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})},dhtmlXCombo.prototype.item=function(){return this.ha},dhtmlXCombo.prototype.getSelected=function(){return this.getSelectedValue()},dhtmlXCombo.prototype.isVisible=function(){return!this.optionsArr.length&&
!this.a.dataFeed?!1:!0},dhtmlXCombo.prototype.refresh=function(){this.render(!0)},dhtmlXCombo.prototype.filter=function(){alert("not implemented")};
if(window.dhtmlXGridObject)dhtmlXGridObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXGridObject.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXGridObject.prototype.sync=function(a,b){this.b&&this.b();a.b&&a.b();var c=this,d="_parsing",e="_parser",f="_locator",h="_process_store_row",j="_get_store_data";this.save=function(b){b||(b=this.getCursor());dhx.extend(a.item(b),this.item(b),!0);a.refresh(b)};var g=function(a){var b=0;c.s?(b=c.s,c.s=!1):
c.clearAll();if(a!==-1&&(a=this.dataCount())){c[d]=!0;for(var g=b;g<a;g++){var n=this.order[g];if(n&&(!b||!c.rowsBuffer[g]))c.rowsBuffer[g]={idd:n,data:this.pull[n]},c.rowsBuffer[g][e]=c[h],c.rowsBuffer[g][f]=c[j],c.rowsAr[n]=this.pull[n]}if(!c.rowsBuffer[a-1])c.rowsBuffer[a-1]=dhtmlx.undefined,c.xmlFileUrl=c.xmlFileUrl||!0;c.pagingOn?c.changePage():c.ia&&c.fa?c.ja():(c.render_dataset(),c.callEvent("onXLE",[]));c[d]=!1}};a.data.attachEvent("onStoreUpdated",function(a,b,d){d=="delete"?(c.deleteRow(a),
c.data.callEvent("onStoreUpdated",[a,b,d])):d=="update"?(c.callEvent("onSyncUpdate",[b,d]),c.update(a,b),c.data.callEvent("onStoreUpdated",[a,b,d])):d=="add"?(c.callEvent("onSyncUpdate",[b,d]),c.add(a,b),c.data.callEvent("onStoreUpdated",[a,b,d])):g.call(this)});a.data.attachEvent("onStoreLoad",function(b,d){c.xmlFileUrl=a.data.url;c.s=b.getInfo(d).i});a.data.attachEvent("onIdChange",function(a,b){c.changeRowId(a,b)});g(-1);c.attachEvent("onEditCell",function(a,b){a==2&&this.save(b);return!0});c.attachEvent("onDynXLS",
function(b,d){for(var e=b;e<b+d;e++)if(!a.data.order[e])return a.loadNext(d,b),!1;c.s=b;g()});c.attachEvent("onClearAll",function(){var a="_f_rowsBuffer";this[a]=null});b&&b.sort&&c.attachEvent("onBeforeSorting",function(b,d,e){if(d=="connector")return!1;var f=this.getColumnId(b);a.sort("#"+f+"#",e=="asc"?"asc":"desc",d=="int"?d:"string");c.setSortImgState(!0,b,e);return!1});b&&b.filter&&c.attachEvent("onFilterStart",function(b,d){var e="_con_f_used";if(c[e]&&c[e].length)return!1;a.data.silent(function(){a.filter();
for(var e=0;e<b.length;e++)if(d[e]!=""){var f=c.getColumnId(b[e]);a.filter("#"+f+"#",d[e],e!=0)}});a.refresh();return!1});c.clearAndLoad=function(b){a.clearAll();a.load(b)}},dhtmlXGridObject.prototype.b=function(){if(dhx.isNotDefined(this.a)){this.a={id:dhx.uid(),dataFeed:this.j};dhx.ui.views[this.a.id]=this;this.data={silent:dhx.bind(function(a){a.call(this)},this)};dhtmlxEventable(this.data);for(var a="_cCount",b=0;b<this[a];b++)this.columnIds[b]||(this.columnIds[b]="cell"+b);this.attachEvent("onSelectStateChanged",
function(a){this.callEvent("onSelectChange",[a])});this.attachEvent("onSelectionCleared",function(){this.callEvent("onSelectChange",[null])});this.attachEvent("onEditCell",function(a,b){a===2&&this.getCursor&&b&&b==this.getCursor()&&this.l();return!0});this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})}},dhtmlXGridObject.prototype.item=function(a){if(a===null)return null;var b="_attrs",b=dhx.fullCopy(this.getRowById(a)[b]);b.id=a;for(var c=this.getColumnsNum(),d=0;d<c;d++)b[this.columnIds[d]]=
this.cells(a,d).getValue();return b},dhtmlXGridObject.prototype.update=function(a,b){for(var c=0;c<this.columnIds.length;c++){var d=this.columnIds[c];dhx.isNotDefined(b[d])||this.cells(a,c).setValue(b[d])}c="_attrs";a=this.getRowById(a)[c];for(d in b)a[d]=b[d]},dhtmlXGridObject.prototype.add=function(a,b){for(var c=[],d=0;d<this.columnIds.length;d++){var e=this.columnIds[d];c[d]=dhx.isNotDefined(b[e])?"":b[e]}this.addRow(a,c,0);d="_attrs";this.getRowById(a)[d]=dhx.fullCopy(b)},dhtmlXGridObject.prototype.getSelected=
function(){return this.getSelectedRowId()},dhtmlXGridObject.prototype.isVisible=function(){var a="_f_rowsBuffer";return!this.rowsBuffer.length&&!this[a]&&!this.a.dataFeed?!1:!0},dhtmlXGridObject.prototype.refresh=function(){this.render_dataset()},dhtmlXGridObject.prototype.filter=function(a,b){if(this.a.dataFeed){var c={};if(!a&&!b)return;if(typeof a=="function"){if(!b)return;a(b,c)}else dhx.isNotDefined(a)?c=b:c[a]=b;this.clearAll();var d=this.a.dataFeed,e=[],f;for(f in c)e.push("dhx_filter["+f+
"]="+encodeURIComponent(c[f]));this.load(d+(d.indexOf("?")<0?"?":"&")+e.join("&"));return!1}if(b===null)return this.filterBy(0,function(){return!1});this.filterBy(0,function(c,d){return a.call(this,d,b)})};
if(window.dhtmlXTreeObject)dhtmlXTreeObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXTreeObject.prototype.dataFeed=function(a){this.a?this.a.dataFeed=a:this.j=a},dhtmlXTreeObject.prototype.b=function(){if(dhx.isNotDefined(this.a))this.a={id:dhx.uid(),dataFeed:this.j},dhx.ui.views[this.a.id]=this,this.data={silent:dhx.bind(function(a){a.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onSelect",function(a){this.callEvent("onSelectChange",[a])}),this.attachEvent("onEdit",
function(a,b){a===2&&b&&b==this.getCursor()&&this.l();return!0})},dhtmlXTreeObject.prototype.item=function(a){return a===null?null:{id:a,text:this.getItemText(a)}},dhtmlXTreeObject.prototype.getSelected=function(){return this.getSelectedItemId()},dhtmlXTreeObject.prototype.isVisible=function(){return!0},dhtmlXTreeObject.prototype.refresh=function(){},dhtmlXTreeObject.prototype.filter=function(a,b){if(this.a.dataFeed){var c={};if(a||b){if(typeof a=="function"){if(!b)return;a(b,c)}else dhx.isNotDefined(a)?
c=b:c[a]=b;this.deleteChildItems(0);var a=this.a.dataFeed,b=[],d;for(d in c)b.push("dhx_filter["+d+"]="+encodeURIComponent(c[d]));this.loadXML(a+(a.indexOf("?")<0?"?":"&")+b.join("&"));return!1}}},dhtmlXTreeObject.prototype.update=function(a,b){dhx.isNotDefined(b.text)||this.setItemText(a,b.text)};dhtmlx.skin="dhx_skyblue";
